"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1280,8322],{68259:function(e,t,a){a.d(t,{Dv:function(){return r},Y0:function(){return c},by:function(){return o}});var s=a(5362),n=a(27218),l=a(13262),i=a(77930);function r(){var e;let t=(0,n.t)();return(0,s.WE)("/api/account/deletion-allowed",{queryKey:[l.gs,null==t?void 0:null===(e=t.account)||void 0===e?void 0:e.uuid],staleTime:0})}function o(e){return(0,s.WE)("/api/account_profile",{queryKey:[l.ec],...e})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useQueryClient)();return(0,s.uC)("/api/account_profile","PUT",{...e,onSuccess:(a,s,n)=>{var i;t.invalidateQueries({queryKey:[l.ec]}),null===(i=e.onSuccess)||void 0===i||i.call(e,a,s,n)}})}},89469:function(e,t,a){a.d(t,{p:function(){return p}});var s=a(27573),n=a(28803),l=a(6415),i=a(81695),r=a(7653);let o=()=>{let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),a=(0,r.useMemo)(()=>{let e=new URLSearchParams;(null==t?void 0:t.has("model"))&&e.append("model",t.get("model")),(null==t?void 0:t.has("max_tokens"))&&e.append("max_tokens",t.get("max_tokens")),(null==t?void 0:t.has("speak"))&&e.append("speak",t.get("speak")),(null==t?void 0:t.has("t"))&&e.append("t",t.get("t")),(null==t?void 0:t.has("q"))&&e.append("q",t.get("q"));let a=e.toString();return a?"?".concat(a):""},[t]);return{push:(0,r.useCallback)(t=>e.push("".concat(t).concat(a)),[e,a]),replace:(0,r.useCallback)(t=>e.replace("".concat(t).concat(a)),[e,a])}};var c=a(45033),d=a(45790),u=a(5984),x=a(70354),m=a(52939),h=a(40950);function f(e){let{isOpen:t,onClose:a,initialName:l,conversationUUID:i}=e,o=(0,h.Z)(),{mutate:c,isPending:f}=(0,n.W)(i),[p,g]=(0,r.useState)(l);return(0,s.jsx)(m.u_,{isOpen:t,onClose:a,title:o.formatMessage({defaultMessage:"Rename chat",id:"Oi9LAY6C5H"}),children:(0,s.jsxs)("form",{className:"grid gap-2",onSubmit:e=>{e.preventDefault(),c({name:p}),a()},children:[(0,s.jsx)(u.oi,{"data-testid":"name-chat",autoFocus:!0,className:"mt-3",value:p,onChange:e=>g(e.target.value)}),(0,s.jsxs)(m.dm,{children:[(0,s.jsx)(x.z,{"data-testid":"name-chat-submit",type:"submit",disabled:f,children:(0,s.jsx)(d.Z,{defaultMessage:"Save",id:"jvo0vs3nF0"})}),(0,s.jsx)(x.z,{variant:"secondary",type:"button",onClick:a,disabled:f,children:(0,s.jsx)(d.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}let p=e=>{let{conversation:t,initialName:a,open:u,onOpenChange:x,trigger:m}=e,[h,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),{mutate:j}=(0,n.j1)(),b=(0,i.usePathname)(),y=o(),{mutate:w}=(0,n.Gk)(t.uuid),C=()=>{w({is_starred:!t.is_starred})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Lt,{align:"end",open:u,onOpenChange:x,trigger:m,unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(c.hP,{"data-testid":"star-chat-trigger",onSelect:()=>{C(),null==x||x(!1)},children:t.is_starred?(0,s.jsx)(d.Z,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(d.Z,{defaultMessage:"Star",id:"VwapsmdMes"})}),(0,s.jsx)(c.u2,{}),(0,s.jsx)(c.hP,{"data-testid":"rename-chat-trigger",onSelect:()=>{p(!0),null==x||x(!1)},children:(0,s.jsx)(d.Z,{defaultMessage:"Rename",id:"iXNbPfQDIZ"})}),(0,s.jsx)(c.hP,{danger:!0,"data-testid":"delete-chat-trigger",onSelect:()=>{v(!0),null==x||x(!1)},children:(0,s.jsx)(d.Z,{defaultMessage:"Delete",id:"K3r6DQW7h+"})})]})}),(0,s.jsx)(l.p,{isOpen:g,onClose:()=>v(!1),onConfirm:()=>{j({uuid:t.uuid}),v(!1),b==="/chat/".concat(t.uuid)&&y.push("/new")}}),(0,s.jsx)(f,{conversationUUID:t.uuid,isOpen:h,initialName:a,onClose:()=>p(!1)})]})}},64791:function(e,t,a){a.d(t,{j:function(){return v}});var s=a(27573),n=a(27218),l=a(70354),i=a(45033),r=a(77003),o=a(7653),c=a(45790),d=a(18187),u=a(32559),x=a(27895),m=a(52939),h=a(40950);function f(e){let{isOpen:t,onClose:a,project:n}=e,{addError:i}=(0,x.e)(),r=(0,h.Z)(),{mutateAsync:o}=(0,u.dY)(n.uuid),d=async()=>{try{await o({is_archived:!0}),a()}catch(e){i(r.formatMessage({defaultMessage:"Could not archive",id:"3O1N877xLt"}))}};return(0,s.jsxs)(m.u_,{isOpen:t,onClose:a,modalSize:"md",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("h2",{className:"font-styrene-display text-xl font-medium",children:(0,s.jsx)(c.Z,{defaultMessage:"Archive project",id:"sxTTUDY6HD"})})}),(0,s.jsx)("div",{className:"mb-6 mt-3",children:(0,s.jsx)(c.Z,{defaultMessage:"Are you sure you want to archive <strong>{projectName}</strong>?",id:"le3xsYo+U6",values:{strong:e=>(0,s.jsx)("strong",{className:"font-medium",children:e}),projectName:n.name}})}),(0,s.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,s.jsx)(l.z,{variant:"secondary",onClick:a,children:(0,s.jsx)(c.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(l.z,{variant:"danger",onClick:()=>{d()},children:(0,s.jsx)(c.Z,{defaultMessage:"Yes, archive",id:"wWN1otYIK8"})})]})]})}var p=a(5984);function g(e){let{isOpen:t,onClose:a,project:n}=e,[i,r]=(0,o.useState)(n.name),[d,f]=(0,o.useState)(n.description),g=(0,h.Z)(),{addError:v}=(0,x.e)(),{mutateAsync:j}=(0,u.dY)(n.uuid),b=async()=>{try{await j({name:i,description:d}),a()}catch(e){v(g.formatMessage({defaultMessage:"Error updating project, please try again later",id:"eLzspFmHkT"}))}};return(0,s.jsxs)(m.u_,{isOpen:t,onClose:a,modalSize:"md",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("h2",{className:"font-styrene-display text-xl font-medium",children:(0,s.jsx)(c.Z,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})})}),(0,s.jsxs)("div",{className:"mb-6 mt-3",children:[(0,s.jsx)(p.oi,{className:"mb-4 w-full",label:g.formatMessage({defaultMessage:"Name",id:"HAlOn1ZsuY"}),value:i,onChange:e=>r(e.target.value),required:!0}),(0,s.jsx)(p.Kx,{label:g.formatMessage({defaultMessage:"Description",id:"Q8Qw5BZ1VA"}),value:d,onChange:e=>f(e.target.value),minRows:6,required:!0,className:"max-h-60 overflow-auto"})]}),(0,s.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,s.jsx)(l.z,{variant:"secondary",onClick:a,children:(0,s.jsx)(c.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(l.z,{onClick:()=>{b()},children:(0,s.jsx)(c.Z,{defaultMessage:"Save",id:"jvo0vs3nF0"})})]})]})}let v=e=>{var t;let{star:a=!0,project:x,iconSize:m=16,buttonSize:h="icon_sm",open:p,onOpenChange:v}=e,[j,b]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),{mutate:C}=(0,u.dY)(x.uuid),N=null!==x.archived_at,{account:k}=(0,n.t)(),{data:M}=(0,d.SE)(x.uuid),_=null!==(t=null==M?void 0:M.some(e=>e.account.uuid===(null==k?void 0:k.uuid)&&"user"===e.role))&&void 0!==t&&t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Lt,{align:"end",open:p,onOpenChange:v,trigger:(0,s.jsx)(l.z,{variant:"ghost",className:"active:!scale-100 pointer-events-auto",size:h,onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(r.x,{weight:"bold",size:m})}),unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[a&&(0,s.jsx)(i.hP,{"data-testid":"star-project-trigger",onSelect:()=>{C({is_starred:!x.is_starred})},children:x.is_starred?(0,s.jsx)(c.Z,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(c.Z,{defaultMessage:"Star",id:"VwapsmdMes"})}),a&&_&&(0,s.jsx)(i.u2,{}),_&&(0,s.jsxs)(s.Fragment,{children:[!N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.hP,{"data-testid":"rename-project-trigger",onSelect:()=>b(!0),children:(0,s.jsx)(c.Z,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})}),(0,s.jsx)(i.hP,{danger:!0,"data-testid":"archive-project-trigger",onSelect:()=>w(!0),children:(0,s.jsx)(c.Z,{defaultMessage:"Archive",id:"hrgo+EleAn"})})]}),N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.u2,{}),(0,s.jsx)(i.hP,{className:"text-danger-000",onClick:()=>{C({is_archived:!1})},children:(0,s.jsx)(c.Z,{defaultMessage:"Unarchive",id:"ftDYZo4V2C"})})]})]})]})}),(0,s.jsx)(g,{isOpen:j,onClose:()=>b(!1),project:x}),(0,s.jsx)(f,{isOpen:y,onClose:()=>w(!1),project:x})]})}},61280:function(e,t,a){a.d(t,{c:function(){return eP},u:function(){return ez}});var s=a(27573);a(5362);var n=a(27218),l=a(11579),i=a(70354),r=a(32737),o=a(4801),c=a(26244);let d=e=>{let{size:t}=e;return(0,s.jsxs)(c.A,{size:t,className:"group",children:[(0,s.jsx)("path",{className:"group-hover:-translate-x-[0.5px] transition group-active:translate-x-0",fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C5.96243 2 3.5 4.46243 3.5 7.5C3.5 8.66827 3.86369 9.75009 4.48403 10.6404C4.6225 10.8391 4.59862 11.1085 4.42735 11.2798L2.70711 13H9C12.0376 13 14.5 10.5376 14.5 7.5C14.5 4.46243 12.0376 2 9 2ZM2.5 7.5C2.5 3.91015 5.41015 1 9 1C12.5898 1 15.5 3.91015 15.5 7.5C15.5 11.0899 12.5898 14 9 14H1.5C1.29777 14 1.11545 13.8782 1.03806 13.6913C0.960669 13.5045 1.00345 13.2894 1.14645 13.1464L3.43405 10.8588C2.84122 9.87838 2.5 8.72844 2.5 7.5Z"}),(0,s.jsx)("path",{className:"group-hover:translate-x-[0.5px] transition group-active:translate-x-0",fillRule:"evenodd",clipRule:"evenodd",d:"M16.2996 9.64015C16.5527 9.52951 16.8474 9.64493 16.9581 9.89794C17.0204 10.0405 17.0778 10.1857 17.13 10.3334C17.3698 11.0117 17.5 11.7412 17.5 12.5C17.5 13.7284 17.1588 14.8784 16.5659 15.8588L18.8535 18.1464C18.9965 18.2894 19.0393 18.5045 18.9619 18.6913C18.8845 18.8782 18.7022 19 18.5 19H11C8.59344 19 6.493 17.6919 5.36988 15.7504C5.23161 15.5113 5.31329 15.2055 5.55232 15.0672C5.79135 14.9289 6.09721 15.0106 6.23548 15.2496C7.18721 16.8949 8.96484 18 11 18H17.2929L15.5726 16.2798C15.4014 16.1085 15.3775 15.8391 15.516 15.6404C16.1363 14.7501 16.5 13.6683 16.5 12.5C16.5 11.8563 16.3896 11.2394 16.1872 10.6666C16.143 10.5418 16.0946 10.4191 16.0419 10.2986C15.9312 10.0456 16.0466 9.75079 16.2996 9.64015Z"})]})},u=e=>{let{size:t}=e;return(0,s.jsxs)(c.A,{size:t,className:"group",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.65937 7.70267C1.53655 6.80203 2.23664 6 3.14561 6H16.8544C17.7634 6 18.4634 6.80203 18.3406 7.70267L17.1134 16.7027C17.012 17.4459 16.3772 18 15.6271 18H4.37289C3.62278 18 2.98799 17.4459 2.88664 16.7027L1.65937 7.70267ZM3.14561 7C2.84262 7 2.60926 7.26734 2.6502 7.56756L3.87747 16.5676C3.91125 16.8153 4.12285 17 4.37289 17H15.6271C15.8771 17 16.0887 16.8153 16.1225 16.5676L17.3498 7.56756C17.3907 7.26734 17.1574 7 16.8544 7H3.14561Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-[0.5px] transition group-active:translate-y-0",fillRule:"evenodd",clipRule:"evenodd",d:"M3 4.5C3 4.22386 3.22386 4 3.5 4H16.5C16.7761 4 17 4.22386 17 4.5C17 4.77614 16.7761 5 16.5 5H3.5C3.22386 5 3 4.77614 3 4.5Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-px transition group-active:translate-y-0",fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 2.5C4.5 2.22386 4.72386 2 5 2H15C15.2761 2 15.5 2.22386 15.5 2.5C15.5 2.77614 15.2761 3 15 3H5C4.72386 3 4.5 2.77614 4.5 2.5Z"})]})};var x=a(1133),m=a(85069),h=a(87033),f=a(88755),p=a(96346),g=a(10607),v=a(68425);a(50294);var j=a(88146),b=a(7653),y=a(40950),w=a(45790),C=a(77879),N=a(95622),k=a(81695),M=a(15281),_=a(52939),Z=a(70943),S=a(91217);let z=e=>{let{isOpen:t,onClose:a}=e,{account:l}=(0,n.t)(),i=(0,M.w)();return((0,b.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&(e.preventDefault(),a())};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,a]),l)?(0,s.jsx)(_.u_,{isOpen:t,onClose:a,modalSize:"xl",backgroundColor:"bg-transparent",className:"!shadow-none border-none !p-0",children:(0,s.jsx)(S.x,{willRedirectOnSubmit:!0,onCreate:async e=>(a(),await i(e)),children:(0,s.jsx)(Z.x,{placement:"modal"})})}):null},P=e=>{let{openNewChatModal:t}=e,a=(0,k.useRouter)(),s=(0,k.usePathname)(),{value:n}=(0,h.FL)("new_chat_modal"),l=(0,b.useCallback)(()=>{"/new"!==s&&(n?t():a.push("/new"))},[t,a,n,s]);return(0,N.H9)(N.LT.cmdK,l),(0,b.useEffect)(()=>{let e=e=>{var t;let a=(0,x.V5)()?e.metaKey:e.ctrlKey;(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())==="k"&&a&&(e.preventDefault(),l())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),null},E=()=>{let[e,t]=(0,b.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P,{openNewChatModal:()=>t(!0)}),(0,s.jsx)(z,{isOpen:e,onClose:()=>t(!1)})]})};var L=a(95586),R=a(35102),I=a(18013),T=a(80151),O=a(61284);let A=(0,b.forwardRef)((e,t)=>{let{trigger:a,children:n,disableTrigger:l=!1,side:r="bottom",align:o="center",sideOffset:c,closeButton:d="none",className:u,triggerClassName:x,onCloseButtonClick:m}=e,[h,f]=(0,b.useState)(!1);return(0,b.useImperativeHandle)(t,()=>({open:()=>f(!0),close:()=>f(!1)})),(0,s.jsxs)(O.fC,{open:h,onOpenChange:l?void 0:e=>{f(e)},children:[(0,s.jsx)(O.xz,{asChild:!0,className:x,children:a}),(0,s.jsx)(O.h_,{children:(0,s.jsxs)(O.VY,{side:r,align:o,sideOffset:c,collisionPadding:16,className:(0,g.Z)("bg-bg-000 p-2 shadow-[0px_0px_32px_0px_hsl(var(--always-black)/12%)] rounded-lg max-w-[235px] relative outline-none z-tooltip",u),children:["none"!==d&&(0,s.jsx)(O.x8,{onClick:m,className:(0,g.Z)({"absolute top-2 right-2 translate-x-1 -translate-y-1":"absolute"===d,"float-right":"wrap"===d}),children:(0,s.jsx)(i.z,{variant:"ghost",size:"icon_xs",className:"absolute"===d?"bg-bg-000":"",children:(0,s.jsx)(T.X,{size:16})})}),n,(0,s.jsx)(O.Eh,{className:"fill-bg-000",offset:10})]})})]})});A.displayName="Popover",(0,b.forwardRef)((e,t)=>{let{popoverKey:a,children:n,...l}=e,[i,r]=(0,I.R)("marketing-popover-".concat(a),!1),o=(0,b.useRef)(null),c=()=>{var e;r(!0),null===(e=o.current)||void 0===e||e.close()};return(0,b.useImperativeHandle)(t,()=>({open:()=>{var e;null===(e=o.current)||void 0===e||e.open()},close:c})),(0,b.useEffect)(()=>{if(!i){var e;null===(e=o.current)||void 0===e||e.open()}},[]),(0,s.jsx)(A,{ref:o,disableTrigger:!0,onCloseButtonClick:c,...l,children:n})}).displayName="MarketingPopover";var F=a(41596),D=a(8322),U=a(3053),H=a(8571),W=a(20823),Y=a(9788),V=a(69069),K=a(45033),Q=a(7992),q=a(37141),B=a(82780),J=a(85689),G=a(7533),X=a(21520),$=a.n(X),ee=a(83617),et=a(72358),ea=a(66894),es=a(68259);let en={type:"language",languageDisplay:"standard"},el=(0,b.forwardRef)((e,t)=>{let a=(0,y.Z)(),{isPending:n,mutateAsync:l}=(0,es.Y0)(),i=a.locale,r=async e=>{e!==i&&(await l({locale:e}),window.location.reload())},o=(0,b.useMemo)(()=>{let e=a.formatters.getDisplayNames(et.ZW,en),t=new Intl.Collator(et.ZW);return et.Yr.map(t=>({locale:t,name:e.of(t),localName:a.formatters.getDisplayNames(t,en).of(t)})).toSorted((e,a)=>t.compare(e.name,a.name))},[a.formatters]);return(0,s.jsxs)(K.Vy,{children:[(0,s.jsxs)(K.WR,{ref:t,className:"text-sm",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)(w.Z,{defaultMessage:"Language",id:"y1Z3orIe9Z"}),(0,s.jsx)("span",{className:"inline-block",children:(0,s.jsx)(ee.C,{className:"mb-0.5 ml-2",uppercase:!0,children:(0,s.jsx)(w.Z,{defaultMessage:"Beta",id:"riw/yc06Nq"})})})]}),(0,s.jsx)(q.T,{size:16})]}),(0,s.jsx)(K.nI,{children:(0,s.jsxs)(K.A2,{sideOffset:4,children:[o.map(e=>(0,s.jsxs)(K.hP,{onSelect:()=>r(e.locale),disabled:n,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:e.localName}),e.locale===i?(0,s.jsx)(J.J,{size:16}):(0,s.jsx)("div",{className:"h-4 w-4"})]},e.locale)),(0,ea.Ry)()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.u2,{}),Object.keys(et.GN).map(e=>(0,s.jsxs)(K.hP,{onSelect:()=>r(e),disabled:n,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:et.GN[e].name}),e===i?(0,s.jsx)(J.J,{size:16}):(0,s.jsx)("div",{className:"h-4 w-4"})]},e))]})]})})]})});el.displayName="LanguagePicker";var ei=a(48410),er=a(98649);let eo=()=>{let{selectedTier:e,setSelectedTier:t,isTierSelectorEnabled:a}=(0,ei.i)();if(!a)return null;let n=[{tier:er.kQ.FREE,label:(0,s.jsx)(w.Z,{defaultMessage:"Claude Free",id:"HALZF/VbRH"})},{tier:er.kQ.PRO,label:(0,s.jsx)(w.Z,{defaultMessage:"Claude Pro",id:"SIgPaVikdi"})},{tier:er.kQ.ENTERPRISE,label:(0,s.jsx)(w.Z,{defaultMessage:"Claude Enterprise",id:"MwY0j6lAfZ"})},{tier:er.kQ.MAX,label:(0,s.jsx)(w.Z,{defaultMessage:"Claude Max",id:"PEXDsCWhYl"})}];return(0,s.jsxs)(K.Vy,{children:[(0,s.jsxs)(K.WR,{className:"text-sm",children:[(0,s.jsx)(w.Z,{defaultMessage:"Select Rate Limit Tier",id:"X6A6BAqdXB"}),(0,s.jsx)(q.T,{size:16})]}),(0,s.jsx)(K.nI,{children:(0,s.jsxs)(K.A2,{sideOffset:4,children:[n.map(a=>(0,s.jsx)(K.hP,{onSelect:()=>t(a.tier),className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[a.label,e===a.tier&&(0,s.jsx)(J.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})},a.tier)),(0,s.jsx)(K.u2,{}),(0,s.jsx)(K.hP,{onSelect:()=>t(null),className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,s.jsx)(w.Z,{defaultMessage:"Unset for 30 days",id:"mZ78YiYBvg"}),null===e&&(0,s.jsx)(J.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})})]})})]})};function ec(){let e=(0,F._)(["fixed top-2.5 right-3.5 z-10 flex flex-row items-center gap-2"]);return ec=function(){return e},e}let ed=()=>(0,s.jsx)(Q.O,{size:16,className:"ml-2 -mr-2"});function eu(e){let{trigger:t,matchTriggerWidth:a=!0,onOpenChange:l,className:r}=e,o=(0,y.Z)(),{track:c}=(0,U.z$)(),{account:d}=(0,n.t)(),u=null==d?void 0:d.memberships.map(e=>e.organization),m=null==u?void 0:u.some(e=>e.capabilities.includes("api")),v=(0,H.m)(),{value:b}=(0,h.FL)("claude_ai_cumin"),{value:C}=(0,h.FL)("claude_ai_intercom"),N=(0,W.o)(),{value:k}=(0,h.FL)("claude_max_enabled"),{value:M}=(0,h.FL)("show_claude_desktop_download_link"),_=(0,f.Q)(),Z=((0,x.V5)()||(0,x.ED)())&&!_&&M,S=(0,s.jsxs)(i.z,{variant:"unstyled",size:"unset",className:"border-0.5 border-border-300 hover:border-border-200 group relative z-[1] w-full overflow-hidden rounded-lg !px-2.5 !py-2 !text-left","data-testid":"user-menu-button",children:[(0,s.jsx)("div",{className:"from-bg-500/0 to-bg-500/40 absolute inset-0 bg-gradient-to-b opacity-70 transition-opacity group-hover:opacity-100"}),(0,s.jsxs)("div",{className:"relative z-[5] flex w-full items-center gap-1.5",children:[(0,s.jsx)(V.M,{size:"sm"}),(0,s.jsx)("div",{className:"min-w-0 flex-1 truncate text-sm",children:null==d?void 0:d.email_address}),(0,s.jsx)(p.p,{size:12})]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(K.Lt,{matchTriggerWidth:a,align:"end",unstyledTrigger:!0,trigger:t||S,onOpenChange:e=>{null==l||l(e)},className:(0,g.Z)("w-72",r),children:[(0,s.jsx)(ex,{}),(0,s.jsx)(K.u2,{}),(0,s.jsx)(K.hP,{asChild:!0,"data-testid":"user-menu-settings",children:(0,s.jsx)(j.default,{href:"/settings/profile",className:"text-sm",children:(0,s.jsx)(w.Z,{defaultMessage:"Settings",id:"D3idYvSLF9"})})}),b&&(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(el,{})}),C&&N&&(0,s.jsx)(K.hP,{onSelect:()=>{c({event_key:"claudeai.get_help.clicked"}),N.update({hideDefaultLauncher:!1}),N.show()},className:"text-sm intercom-launcher",children:(0,s.jsx)(w.Z,{defaultMessage:"Get help",id:"9OuUCLqQgd"})}),(0,s.jsx)(eo,{}),(0,s.jsx)(K.u2,{}),k&&(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(j.default,{href:"/upgrade",className:"text-sm",children:(0,s.jsx)(w.Z,{defaultMessage:"View all plans",id:"hSNxZTzZks"})})}),Z&&(0,s.jsx)(K.hP,{asChild:!0,className:"pr-0",children:(0,s.jsx)(j.default,{href:"/download",target:"_blank",className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,x.V5)()?(0,s.jsx)(w.Z,{defaultMessage:"Download Claude for Mac",id:"BobP7MV3sG"}):(0,s.jsx)(w.Z,{defaultMessage:"Download Claude for Windows",id:"qZjfHa3uMI"}),(0,s.jsx)(Q.O,{size:16})]})})}),(0,s.jsxs)(K.Vy,{children:[(0,s.jsxs)(K.WR,{className:"text-sm",children:[(0,s.jsx)(w.Z,{defaultMessage:"Learn more",id:"TdTXXf940t"}),"\xa0",(0,s.jsx)(q.T,{size:16})]}),(0,s.jsx)(K.nI,{children:(0,s.jsxs)(K.A2,{sideOffset:4,children:[m&&(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(j.default,{href:v.consoleAbsoluteUrl,target:"_blank",className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)(w.Z,{defaultMessage:"API Console",id:"CfiNwKIPP1"}),(0,s.jsx)(ed,{})]})})}),(0,s.jsx)(ef,{name:o.formatMessage({defaultMessage:"About Anthropic",id:"Cm+OGj8nZs"}),path:"/"}),(0,s.jsx)(K.u2,{}),(0,s.jsx)(ef,{name:o.formatMessage({defaultMessage:"Usage policy",id:"2hfc4AKs6b"}),path:"/legal/aup"}),(0,s.jsx)(ef,{name:o.formatMessage({defaultMessage:"Privacy policy",id:"cPwv2cbzf2"}),path:"/legal/privacy"})]})})]}),(0,s.jsx)(K.u2,{}),"",(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(j.default,{href:"/logout",className:"text-sm",children:(0,s.jsx)("span",{className:"flex items-center",children:(0,s.jsx)(w.Z,{defaultMessage:"Log out",id:"PlBReUqqzW"})})})})]})})}let ex=()=>{let{account:e}=(0,n.t)(),t=(0,b.useMemo)(()=>{var t;return null!==(t=null==e?void 0:e.memberships.map(e=>e.organization))&&void 0!==t?t:[]},[e]),a=(0,b.useMemo)(()=>$()(t.filter(e=>e.capabilities.includes("chat")),e=>!e.capabilities.includes("raven"),"name"),[t]),l=a.some(e=>e.capabilities.includes("raven"));return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.HF,{className:"text-sm pb-2 overflow-ellipsis truncate",children:null==e?void 0:e.email_address}),a.map(e=>(0,s.jsx)(em,{org:e,hasTeam:l},e.uuid))]})})},em=e=>{let{org:t,hasTeam:a}=e,l=(0,y.Z)(),{switchAndRefresh:i}=(0,D.z6)(),{activeOrganization:r}=(0,n.t)(),o=(0,n.gQ)(t),c=(0,k.usePathname)(),d=o?"Enterprise":t.capabilities.includes("raven")?"Team":t.capabilities.includes("claude_pro")?"Pro":t.capabilities.includes("claude_max")?"Max":"Free",u=t.uuid===(null==r?void 0:r.uuid),x=t.capabilities.includes("raven")?t.name:l.formatMessage({defaultMessage:"Personal",id:"NDx+B0BTac"}),m=(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:(0,g.Z)("flex items-center gap-2 w-full",u?"cursor-default":"cursor-pointer"),children:[(0,s.jsx)(eh,{org:t}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden grow",children:[(0,s.jsx)("span",{className:"truncate text-text-100 text-sm",children:x}),(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsx)("span",{className:"text-text-300",children:(0,s.jsx)(w.Z,{defaultMessage:"{plan} plan",id:"oK+PGPHfhv",values:{plan:d}})}),"Free"===d&&u&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.o,{size:12,className:"inline"}),(0,s.jsx)(j.default,{href:"/upgrade",className:"text-text-000 hover font-medium transition-all",children:(0,s.jsx)(w.Z,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})]})]})]}),u&&(0,s.jsx)(J.J,{weight:"bold",className:"flex-shrink-0 text-accent-secondary-100 h-4 w-4"})]})});return u?(0,s.jsx)(K.AZ,{children:m}):(0,s.jsx)(K.hP,{onSelect:()=>{c.startsWith("/chat/")?i(t.uuid,"/chats"):i(t.uuid)},children:m})},eh=e=>{let{org:t}=e,a=t.capabilities.includes("raven"),n=a?(0,s.jsx)(G.$,{size:16}):(0,s.jsx)(V.M,{size:"sm",variant:"cardamom"});return(0,s.jsx)("div",{className:(0,g.Z)("flex-shrink-0 flex h-7 w-7 items-center justify-center rounded-full bg-bg-400 text-text-300",a&&"rounded-sm"),children:n})},ef=e=>{let{name:t,path:a}=e,{websiteBaseUrl:n}=(0,H.m)();return(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(j.default,{href:"".concat(n).concat(a),target:"_blank",className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)(ed,{})]})})})};Y.q.div(ec());var ep=a(4116),eg=a(77003),ev=a(18780),ej=a(32559),eb=a(89469),ey=a(64791),ew=a(20355);function eC(e){let{type:t,href:a,CustomIcon:n,onClick:l=()=>void 0,children:o,tooltipContent:c,isExpanded:d,uuid:u,size:x="default",conversation:m}=e,h=(0,k.usePathname)()===a&&"more"!==t&&"promo"!==t,[f,p]=(0,b.useState)(!1),{closeSidebarOnMobile:v,isMobile:j}=(0,ew.S)(),{data:y}=(0,ej.Yc)("project"===t?u:void 0);return(0,s.jsx)(r.u,{delayDuration:0,disableHoverableContent:!0,tooltipContent:!d&&!j&&c,side:"right",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(i.z,{"aria-label":c,href:a,onLinkClick:e=>{l(e),v()},variant:"ghost",size:x,className:(0,g.Z)(h&&"!bg-bg-400","promo"===t?"w-full overflow-hidden !min-w-0 group px-4 hover:!bg-transparent active:!bg-transparent":"w-full hover:bg-bg-300 overflow-hidden !min-w-0 group active:bg-bg-400 active:scale-[0.99] px-4"),children:(0,s.jsxs)("div",{className:"-translate-x-2 w-full flex flex-row items-center justify-start gap-3",children:[n&&(0,s.jsx)("div",{className:"size-4 flex items-center justify-center group-hover:!text-text-200 text-text-400",children:n}),"more"===t&&(0,s.jsx)(ev.i,{size:18,className:"shrink-0 "}),(0,s.jsx)("span",{className:(0,g.Z)("truncate group-hover:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] group-focus-within:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] text-sm whitespace-nowrap w-full [mask-size:100%_100%]",(f||h)&&"[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)]"),children:o})]})}),(h||f||!j)&&(0,s.jsx)("div",{className:(0,g.Z)("absolute right-0 top-1/2 -translate-y-1/2",f||h?"block":"hidden group-hover:block group-focus-within:block"),children:u?"chat"===t&&m?(0,s.jsx)(eb.p,{conversation:m,initialName:(null==o?void 0:o.toString())||"",open:f,onOpenChange:p,trigger:(0,s.jsx)(i.z,{variant:"ghost",className:"active:!scale-100 aria-expanded:!bg-bg-400",size:"icon_sm",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(eg.x,{weight:"bold",size:20})})}):"project"===t?y?(0,s.jsx)(ey.j,{project:y,iconSize:20,buttonSize:"icon_sm",open:f,onOpenChange:p}):null:void 0:null})]})})}function eN(e){let{isExpanded:t}=e,{value:a}=(0,h.FL)("claude_ai_invite_contest");if(!a)return null;let n=(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 border border-accent-secondary-200/50 group-hover:border-accent-secondary-000 rounded-lg pointer-events-none z-10 transition-colors duration-200"}),(0,s.jsx)(eC,{CustomIcon:(0,s.jsx)(ep.n,{size:18,className:"text-accent-secondary-100 group-hover:text-accent-secondary-000 transition-colors duration-200"}),href:"/invite",type:"promo",isExpanded:t,children:(0,s.jsx)("span",{className:"font-normal text-sm text-accent-secondary-100 group-hover:text-accent-secondary-000 transition-colors duration-200",children:(0,s.jsx)(w.Z,{defaultMessage:"Win 4 months of Max",id:"sTHRUu15q1"})})})]});return t?(0,s.jsx)("div",{className:"px-2 pb-2",children:n}):(0,s.jsx)("div",{className:"px-2 pb-2",children:(0,s.jsx)(r.u,{tooltipContent:"Win 4 months of Max",side:"right",sideOffset:16,children:n})})}var ek=a(28803),eM=a(8927);function e_(e){let{offset:t,className:a}=e,{track:n}=(0,U.z$)(),[l,i]=(0,b.useState)(!1),{data:r,isLoading:o}=(0,ek.QR)({limit:ek.V0,starred:!1}),{data:c}=(0,ek.m)();if((0,b.useEffect)(()=>{!o&&(null==r?void 0:r.length)&&i(!0)},[o,r]),!o&&(null==r?void 0:r.length))return(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("h3",{className:(0,g.Z)("text-text-300 pb-2 mt-1 text-xs select-none",t,a),children:(0,s.jsx)(w.Z,{defaultMessage:"Recents",id:"wA4FIMmtlS"})}),(0,s.jsx)("ul",{className:"flex flex-col gap-px",children:(0,s.jsx)(eM.M,{children:r.map(e=>(0,s.jsx)(v.E.li,{initial:{opacity:0,height:l?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(eC,{href:"/chat/".concat(e.uuid),type:"chat",uuid:e.uuid,size:"sm",onClick:()=>{n({event_key:"claudeai.conversation.recent.opened",conversation_uuid:e.uuid})},conversation:e,children:e.name?e.name:(0,s.jsx)("span",{className:"opacity-60",children:(0,s.jsx)(w.Z,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})})},e.uuid))})}),c&&c>=ek.V0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eC,{size:"sm",type:"more",href:"/recents",children:(0,s.jsx)(w.Z,{defaultMessage:"All chats",id:"Ug9lgdRJy3"})}),(0,s.jsx)("div",{className:"bg-gradient-to-t from-bg-200 to-transparent sticky h-4 bottom-0 left-0 right-0"})]})]})}function eZ(e){let{offset:t,className:a}=e,[n,l]=(0,b.useState)(!1),i=(0,L.U)(),{data:r,isLoading:o}=(0,ej.bQ)(),{data:c,isLoading:d}=(0,ek.QR)({starred:!0,limit:ek.V0}),x=i&&o||d;if((0,b.useEffect)(()=>{x||l(!0)},[x]),x)return;let m=null!=c?c:[],h=null!=r?r:[];return(null==h?void 0:h.length)||(null==m?void 0:m.length)?(0,s.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,s.jsx)("h3",{className:(0,g.Z)("text-text-300 flex items-center gap-1.5 text-xs pb-2 select-none",t,a),children:(0,s.jsx)(w.Z,{defaultMessage:"Starred",id:"V7cUPvWFo3"})}),(0,s.jsx)("ul",{className:"-mx-1.5 flex flex-1 flex-col px-1.5 gap-px",children:(0,s.jsxs)(eM.M,{children:[h.map(e=>(0,s.jsx)(v.E.li,{initial:{opacity:0,height:n?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(eC,{type:"project",href:"/project/".concat(e.uuid),uuid:e.uuid,size:"sm",CustomIcon:(0,s.jsx)(u,{size:18}),children:e.name})},e.uuid)),m.map(e=>(0,s.jsx)(v.E.li,{initial:{opacity:0,height:n?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(eC,{type:"chat",href:"/chat/".concat(e.uuid),uuid:e.uuid,size:"sm",conversation:e,children:e.name?e.name:(0,s.jsx)("span",{className:"opacity-60",children:(0,s.jsx)(w.Z,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})})},e.uuid))]})})]}):null}let eS="18rem",ez=49;function eP(){let{account:e,activeOrganization:t}=(0,n.t)(),a=(0,C.tm)(),r=(0,y.Z)(),c=(0,L.U)(),[x,N]=(0,b.useState)(!1),{isExpanded:k,setIsExpanded:M,closeSidebarOnMobile:_,isMobile:Z}=(0,ew.S)(),S=(0,f.Q)(m.t6),{value:z}=(0,h.FL)("artifacts-studio");(0,b.useRef)(null);let P=Z||S?"0":"3.05rem",I=(0,g.Z)(k?"":"opacity-0 -translate-x-0.5","transition-all duration-200"),T=(0,b.useMemo)(()=>({collapsed:{width:P,transition:{type:"spring",stiffness:950,damping:52,mass:1}},expanded:{width:eS,transition:{type:"spring",stiffness:900,damping:52,mass:1}}}),[P]),O=null==t?void 0:t.capabilities.includes("raven"),A=null==t?void 0:t.capabilities.includes("claude_pro"),F=null==t?void 0:t.capabilities.includes("claude_max");(0,R.i7)();let D=(0,s.jsx)(i.z,{variant:"ghost",className:(0,g.Z)("flex !justify-start !min-w-0 py-5 !px-0.5  w-full",!k&&"hover:!bg-transparent active:!bg-transparent"),"data-testid":"user-menu-button",children:(0,s.jsxs)("div",{className:"flex flex-row flex-grow items-center gap-3 pointer-cursor w-full",children:[t&&(0,s.jsx)(eh,{org:t}),(0,s.jsxs)("div",{className:(0,g.Z)(I,"flex w-full text-sm justify-between items-center font-medium"),children:[(0,s.jsxs)("div",{className:"flex flex-col items-start w-full max-w-full overflow-hidden pr-4",children:[(0,s.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,s.jsx)("span",{className:"text-start block truncate",children:null==e?void 0:e.full_name})}),(0,s.jsx)("span",{className:"text-xs text-text-300 font-normal",children:O?null==t?void 0:t.name:A?(0,s.jsx)(w.Z,{defaultMessage:"Pro plan",id:"P0xe8AvKVP"}):F?(0,s.jsx)(w.Z,{defaultMessage:"Max plan",id:"yC6ECfKPIQ"}):(0,s.jsx)(w.Z,{defaultMessage:"Free plan",id:"B+7815cfpz"})})]}),(0,s.jsx)(p.p,{className:"flex-shrink-0 mr-2",size:14})]})]})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E,{}),(0,s.jsx)(v.E.div,{animate:k?"expanded":"collapsed",style:{width:k?eS:P},className:"fixed z-sidebar lg:sticky",children:(0,s.jsxs)(v.E.nav,{variants:T,initial:!1,animate:k?"expanded":"collapsed",className:(0,g.Z)("h-screen flex flex-col gap-3 pb-2 px-0 fixed top-0 left-0 transition duration-100 border-border-300 border-r-0.5",k&&"shadow-lg !bg-bg-200 lg:shadow-[inset_-4px_0px_6px_-4px_hsl(var(--always-black)/4%)]",x&&"!bg-bg-200"),children:[(0,s.jsxs)("div",{className:(0,g.Z)("flex w-full items-center gap-px p-2",S&&"pl-[90px] pt-3 draggable min-w-fit"),children:[(0,s.jsx)(i.z,{variant:"ghost",size:"icon_sm",onClick:()=>M(!k),className:"group","data-testid":"pin-sidebar-toggle",children:(0,s.jsxs)("div",{className:"relative *:duration-300 ",children:[(0,s.jsx)(o.aK,{className:(0,g.Z)(!S&&[Z&&k&&"!opacity-0 scale-80",x&&!Z?"opacity-0 scale-80":"opacity-100 scale-100","group-hover:opacity-0"],"group-hover:scale-80 transition-all text-text-300"),size:18}),!S&&(k?(0,s.jsx)(o.G3,{className:(0,g.Z)(Z&&k&&"!opacity-100 !scale-100",x?"opacity-100 scale-100":"opacity-0 scale-50","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200"),size:18}):(0,s.jsx)(o.NY,{className:(0,g.Z)(x&&!Z?"opacity-100 scale-100":"opacity-0 scale-50","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200"),size:18}))]})}),!S&&k&&(0,s.jsx)(j.default,{href:"/new",className:"flex flex-col justify-start items-top","aria-label":r.formatMessage({defaultMessage:"Home",id:"ejEGdxSUGs"}),children:(0,s.jsx)(l.l,{className:"ml-[3px] h-4 flex-shrink-0 text-text-100"})})]}),(0,s.jsxs)("div",{className:(0,g.Z)("flex flex-col align-center h-full overflow-hidden",Z&&I),children:[(0,s.jsxs)("div",{className:"flex flex-col px-2 pt-1 gap-px mb-6",children:[(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsx)(eE,{hideOnCollapse:I,isExpanded:k,isMounted:a,closeSidebarOnMobile:_,isMobile:Z})}),null,c&&(0,s.jsx)(eC,{CustomIcon:(0,s.jsx)(u,{size:18}),href:"/projects",tooltipContent:r.formatMessage({defaultMessage:"Projects",id:"UxTJRaKagI"}),isExpanded:k,children:(0,s.jsx)("div",{className:I,children:(0,s.jsx)(w.Z,{defaultMessage:"Projects",id:"UxTJRaKagI"})})}),(0,s.jsx)(eC,{CustomIcon:(0,s.jsx)(d,{size:18}),href:"/recents",tooltipContent:r.formatMessage({defaultMessage:"Chats",id:"ABAQyoD6zr"}),isExpanded:k,children:(0,s.jsx)("div",{className:I,children:(0,s.jsx)(w.Z,{defaultMessage:"Chats",id:"ABAQyoD6zr"})})}),"",""]}),(0,s.jsxs)("div",{className:(0,g.Z)(I,"flex flex-grow flex-col overflow-y-auto overflow-x-hidden relative px-2 mb-2"),children:[(0,s.jsx)(eZ,{offset:"pl-2",className:(0,g.Z)("sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!k&&"pointer-events-none")}),null,(0,s.jsx)(e_,{offset:"pl-2",className:(0,g.Z)("sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!k&&"pointer-events-none")}),(0,s.jsx)("div",{className:(0,g.Z)("h-full w-full cursor-pointer absolute top-0 z-sidebar",k&&"hidden"),onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),onClick:()=>!Z&&M(!k)})]}),(0,s.jsx)(eN,{isExpanded:k}),(0,s.jsx)("div",{className:"px-2 pb-1",children:(0,s.jsx)(eu,{trigger:D,matchTriggerWidth:!1,className:"w-[17rem] mx-2"})})]})]})}),k&&Z&&(0,s.jsx)("div",{className:"fixed bg-transparent z-sidebar top-0 bottom-0 right-0",style:{left:eS},onClick:_})]})}function eE(e){let{isExpanded:t,hideOnCollapse:a,isMounted:n,closeSidebarOnMobile:l,isMobile:c}=e,d=(0,y.Z)(),u=(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(w.Z,{defaultMessage:"New chat",id:"ATDyLPIoxz"})}),n()&&(0,s.jsx)("span",{className:"text-xs opacity-80",children:(0,x.V5)()?(0,s.jsx)(w.Z,{defaultMessage:"âŒ˜K",id:"cpOWpzUZLg"}):(0,s.jsx)(w.Z,{defaultMessage:"Ctrl+K",id:"ps5nD4m+km"})})]});return(0,s.jsx)(r.u,{delayDuration:0,side:"right",tooltipContent:!t&&!c&&u,disableHoverableContent:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.z,{"aria-label":d.formatMessage({id:"ATDyLPIoxz",defaultMessage:"New chat"}),role:"link",variant:"unstyled",href:"/new",onLinkClick:l,className:(0,g.Z)("group transition ease-in-out active:!scale-100 hover:bg-transparent flex !justify-start !min-w-0 w-full",t&&"hover:!bg-accent-main-000/[0.08] active:!bg-accent-brand/15"),children:(0,s.jsxs)("div",{className:"-mx-2 flex flex-row items-center gap-3",children:[(0,s.jsx)("div",{className:"size-4 flex items-center justify-center",children:(0,s.jsx)("div",{className:"p-1.5 group-active:!scale-[0.98] group-active:!shadow-none group-active:bg-accent-main-200 group-hover:-rotate-2 group-hover:scale-105 group-active:rotate-3 rounded-full transition-all ease-in-out bg-accent-main-000 group-hover:shadow-md",children:(0,s.jsx)(o.yc,{size:12,className:"group-hover:scale-105 transition text-always-white"})})}),(0,s.jsx)("div",{className:(0,g.Z)(a,"text-accent-main-100 font-medium text-sm"),children:(0,s.jsx)(w.Z,{defaultMessage:"New chat",id:"ATDyLPIoxz"})})]})})})})}},8322:function(e,t,a){a.d(t,{K5:function(){return w},Ql:function(){return Z},Z1:function(){return _},_A:function(){return N},nJ:function(){return k},rN:function(){return C},wy:function(){return M},z6:function(){return b}});var s=a(36091),n=a(8571),l=a(40287),i=a(27218),r=a(27895),o=a(18850),c=a(93846),d=a(35228),u=a(6385),x=a(13262);a(92841);var m=a(87033),h=a(77930),f=a(81695),p=a(7653),g=a(19170),v=a(93513),j=a(68571);let b=()=>{let e=(0,f.useRouter)(),t=(0,l.f)();return{refresh:()=>{e.refresh()},switchAndRefresh:(e,a)=>{t.set(u.cn.LAST_ACTIVE_ORG,e),a?location.pathname=a:location.reload()}}},y=e=>{let{account:t}=(0,i.t)(),a=(0,c.gt)(e),n=(0,s.Wc)();return(t&&n(),t&&((0,d.wJ)({account:t,isClaudeDot:e})||(0,d.c6)(t,e)))?"/onboarding":t&&(0,d.kK)(t,e)?"/invites":t&&(0,d.D_)(t,e)?"/create":t&&a?"/upgrade/pro":e?"/new":"/dashboard"};function w(e){let{value:t}=(0,m.FL)("show_affirmative_consent"),{value:a}=(0,m.FL)("show_affirmative_consent_for_privacy_policy");return(0,p.useMemo)(()=>[...t===e?["aup","consumer-terms"]:[],...a===e?["privacy"]:[]],[a,t,e])}let C=(e,t,a)=>{let s=(0,o.q)(),{mutateAsync:n}=(0,g.k7)();return(0,p.useCallback)(async()=>{if(!e||!s||0===t.length)return;let l=t.map(e=>({document_id:"v3:".concat(e,":").concat(s[e]),accepted_via_checkbox:a}));await n({acceptances:l})},[e,s,t,n,a])},N=(e,t)=>{let{account:a,refetch:s,setActiveOrganizationUUID:n}=(0,i.t)(),[l,o]=(0,p.useState)(!1),[c,d]=(0,p.useState)(!1),u=k(),{addSuccess:m}=(0,r.e)(),{data:f}=(0,g.gq)(e),v=(0,h.useQueryClient)();return(0,p.useEffect)(()=>{a&&l&&c&&(t?t(u):u())},[c,u,l,a,t]),(0,p.useCallback)(async()=>{o(!0),await s(),await v.invalidateQueries({queryKey:[x.eW]}),(null==f?void 0:f.organization_uuid)&&(n(f.organization_uuid),m("Successfully joined ".concat(f.organization_name))),d(!0)},[f,m,s,n,v])},k=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,f.useSearchParams)().get("returnTo"),a=M(e);return(0,p.useCallback)(()=>{a(t)},[a,t])},M=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{account:t}=(0,i.t)(),[a,s]=(0,p.useState)(!1),l=(0,f.useRouter)(),[r,o]=(0,p.useState)(null),c=(0,f.usePathname)(),d=(0,f.useSearchParams)(),u=(0,n.Z)(),x=y(u);return(0,p.useEffect)(()=>{(a||e)&&!t&&l.push((0,v.C2)(c,d.toString()))},[t,l,a,e,c,d]),(0,p.useEffect)(()=>{if(a&&t){let e=(0,v.eX)(t,r,x,u,!!j.env.NEXT_PUBLIC_SHOW_US_GOVT_SYSTEM_USE_NOTIFICATION);e!==window.location.href.replace(window.location.origin,"")&&(l.push(e),l.refresh())}},[t,l,a,r,x,u]),(0,p.useCallback)(e=>{e&&o(e),s(!0)},[])};function _(){let[e,t]=(0,p.useState)(!1);return{getRecaptchaToken:(0,p.useCallback)(async(e,a)=>j.env.NEXT_PUBLIC_DISABLE_RECAPTCHA?Promise.resolve("recaptcha-ignore-token"):(t(!0),new Promise((s,n)=>{if("undefined"==typeof grecaptcha)return t(!1),n(Error("Recaptcha failed to load"));grecaptcha.enterprise.ready(()=>{grecaptcha.enterprise.execute(e,{action:a}).then(e=>{s(e),t(!1)},e=>{t(!1),n(e)})})})),[]),isLoading:e}}function Z(e){let[t,a]=(0,p.useState)(!1);(0,p.useEffect)(()=>{if(!t){let t=setInterval(()=>{(window.grecaptcha||j.env.NEXT_PUBLIC_DISABLE_RECAPTCHA)&&(a(!0),e())},10);return()=>clearInterval(t)}},[t,a,e])}},93513:function(e,t,a){a.d(t,{$6:function(){return o},C2:function(){return i},G9:function(){return r},eX:function(){return l},kY:function(){return c}});var s=a(35228),n=a(6385);let l=(e,t,a,l,i)=>{if(i&&!localStorage.getItem(n.VJ.ACCEPTED_US_GOVERNMENT_SYSTEM_NOTIFICATION))return"/us-govt-system-warning";if(!t||!t.startsWith("/"))return a;if((0,s.cG)(e,l)){let e=new URL(a,window.location.origin),s=new URLSearchParams(e.search);return s.set("returnTo",t),"".concat(e.pathname,"?").concat(s.toString())}return r(t)},i=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n="".concat(e,"?").concat(t),l=new URLSearchParams(s);return l.append("returnTo",n),"".concat(a,"?").concat(l.toString())};function r(e){let t=new URL(e,"http://example.com");return t.pathname.replace(/^\/+/,"/")+t.search}function o(e){return e.reduce((e,t)=>{let a=localStorage.getItem(t);return null!==a&&e.push([t,a]),e},[])}function c(e){e.forEach(e=>{let[t,a]=e;localStorage.setItem(t,a)})}},6415:function(e,t,a){a.d(t,{p:function(){return u}});var s=a(27573),n=a(70354),l=a(52939),i=a(10607),r=a(7653);let o=r.forwardRef((e,t)=>{let{value:a,className:n}=e,l=Math.round(100*Math.min(Math.max(a,0),1));return(0,s.jsx)("div",{ref:t,role:"progressbar","aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,className:(0,i.Z)("w-full h-1 bg-bg-400 rounded-full overflow-hidden",n),children:(0,s.jsx)("div",{className:"h-full bg-accent-main-100 rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(l,"%")}})})});o.displayName="Progress";var c=a(40845),d=a(45790);let u=e=>{let{isOpen:t=!1,onClose:a,onConfirm:i,modalTitle:u=(0,s.jsx)(d.Z,{defaultMessage:"Delete chat?",id:"M16o5rLckO"}),modalText:x=(0,s.jsx)(d.Z,{defaultMessage:"Are you sure you want to delete this chat?",id:"eoF+zSJr4t"}),isDeleting:m=!1,progress:h=0}=e,f=(0,r.useCallback)(e=>{"Enter"!==e.key||m||i()},[i,m]);return(0,r.useEffect)(()=>(t&&window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[t,f]),(0,s.jsxs)(l.u_,{title:u,isOpen:t,onClose:a,children:[(0,s.jsx)("div",{className:"mt-1 mb-2",children:x}),m&&h>0&&(0,s.jsx)(o,{value:h}),(0,s.jsxs)(l.dm,{children:[(0,s.jsx)(n.z,{variant:"danger","data-testid":"delete-modal-confirm",onClick:i,disabled:m,children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.t,{className:"inline-block mr-1 animate-spin",size:14}),(0,s.jsx)(d.Z,{defaultMessage:"Deleting...",id:"noZdV2GAKj"})]}):(0,s.jsx)(d.Z,{defaultMessage:"Delete",id:"K3r6DQW7h+"})}),(0,s.jsx)(n.z,{variant:"secondary",onClick:a,children:(0,s.jsx)(d.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}},15281:function(e,t,a){a.d(t,{b:function(){return x},w:function(){return m}});var s=a(28803),n=a(3053),l=a(27218),i=a(51432),r=a(77930),o=a(23368),c=a.n(o),d=a(81695),u=a(7653);let x=()=>{let e="new-conversation-params-for-navigation",t=(0,r.useQueryClient)(),a=(0,u.useCallback)(()=>{let t=localStorage.getItem(e);if(!t)return{};try{let e=JSON.parse(t);return c()(e,e=>Date.now()-e.created_at<6e4)}catch(t){localStorage.removeItem(e)}return{}},[]);return{prepareNewConversation:(0,u.useCallback)((s,n)=>{let l={created_at:Date.now(),...n};t.setQueryData([e,s],l);let i=a();i[s]=l;try{localStorage.setItem(e,JSON.stringify(i))}catch(e){}},[t,a]),getCreateParamsForConvo:(0,u.useCallback)(s=>{let n=a(),l=t.getQueryData([e,s])||n[s];t.removeQueries({queryKey:[e,s]});let i=c()(n,(e,t)=>t!==s);return localStorage.setItem(e,JSON.stringify(i)),l},[t,a])}};function m(){var e;let t=(0,n.z$)(),{data:a}=(0,s.m)(),{mutateAsync:r}=(0,s.$Y)(),[o,c]=(0,u.useReducer)(i.H,"",i.H),{prepareNewConversation:m}=x(),{account:h}=(0,l.t)(),f=(0,d.useRouter)();return(0,u.useCallback)(async e=>{var s;let{model:n,project_uuid:l,include_conversation_preferences:i,paprika_mode:d,compass_mode:u,name:x}=e,p=r({uuid:o,name:null!=x?x:"",model:n,project_uuid:l,include_conversation_preferences:i,paprika_mode:d,compass_mode:u});if(m(o,e),await p,(null==h?void 0:null===(s=h.settings)||void 0===s?void 0:s.has_finished_claudeai_onboarding)===!1){let e=new URLSearchParams;e.append("returnTo","/chat/".concat(o));let t="/onboarding?".concat(e.toString());f.push(t)}else f.push("/chat/".concat(o));return c(),0===a&&await t.track({event_key:"chat.conversation.first_conversation_created",surface:"claude.ai"}),{uuid:o}},[r,o,a,t,f,m,null==h?void 0:null===(e=h.settings)||void 0===e?void 0:e.has_finished_claudeai_onboarding])}},36091:function(e,t,a){a.d(t,{ArkoseTokenProvider:function(){return p},Wc:function(){return v},mj:function(){return g}});var s=a(27573),n=a(5362),l=a(87033),i=a(88755),r=a(45144),o=a(27522),c=a(7653),d=a(8571),u=a(18013);let x="ak-session-token",m=e=>{let{host:t,apiKey:a,nonce:n,integrity:l,onCompleted:i,onShown:r,onShow:d,onHide:u,onError:x,setArkoseEnforcement:m}=e,h=e=>{e.setConfig({onCompleted:i,onShown:r,onShow:d,onHide:u,onError:x}),m(e)};return(0,c.useEffect)(()=>()=>{window.setupEnforcement=void 0},[]),(0,s.jsx)(o.default,{id:"arkose-script",src:"https://".concat(t,"/v2/").concat(a,"/api.js"),type:"text/javascript","data-callback":"setupEnforcement",async:!0,defer:!0,onLoad:()=>{window.setupEnforcement||(window.setupEnforcement=h)},nonce:n,integrity:l,crossOrigin:"anonymous"})},h=()=>{let e=(0,i.Q)(),t=(0,d.Z)(),{value:a}=(0,l.FL)("ak_enabled");return!e&&t&&a},f=(0,c.createContext)({isChallenging:!1,lastCallerId:void 0,needsToken:!1,startTokenFlow:()=>{}});function p(e){let{host:t,apiKey:a,nonce:n,integrity:l,children:i}=e,o=h(),[d,p]=(0,c.useState)(void 0),[g,v]=(0,c.useState)(void 0),[j,b]=(0,c.useState)(!1),[y,w]=(0,u.R)(x,void 0),C=o&&!y&&!!t&&!!a;return(0,s.jsxs)(f.Provider,{value:{isChallenging:j,needsToken:C,lastCallerId:g,startTokenFlow:e=>{v(e),null==d||d.run()}},children:[i,o&&t&&a&&(0,s.jsx)(m,{host:t,apiKey:a,nonce:n,integrity:l,onCompleted:e=>{w(e.token)},onShown:()=>b(!0),onShow:()=>b(!0),onHide:()=>b(!1),onError:e=>{(0,r.Tb)(e.error)},setArkoseEnforcement:p})]})}function g(){return(0,c.useContext)(f)}let v=()=>{let e=h(),[t,a,s]=(0,u.R)(x,void 0),{mutateAsync:l}=(0,n.uC)("api/arkose/verify","POST");return(0,c.useCallback)(async()=>{e&&t&&(s(),await l({session_token:t}))},[e,l,t,s])}},20823:function(e,t,a){a.d(t,{IntercomProvider:function(){return l},o:function(){return i}});var s=a(27573),n=a(66606);function l(e){let{children:t,...a}=e;return(0,s.jsx)(n.H,{...a,children:t})}function i(){return(0,n.o)()}},18850:function(e,t,a){a.d(t,{LegalDocsProvider:function(){return i},q:function(){return r}});var s=a(27573),n=a(7653);let l=(0,n.createContext)(void 0),i=e=>{let{value:t,children:a}=e;return(0,s.jsx)(l.Provider,{value:t,children:a})};function r(){return(0,n.useContext)(l)}},93846:function(e,t,a){a.d(t,{jN:function(){return h},Iq:function(){return g},gt:function(){return p},s$:function(){return m},fk:function(){return f}});var s=a(5362),n=a(40287),l=a(27895),i=a(6385),r=a(13262),o=a(87033),c=a(7653),d=a(40950),u=a(41270);let x=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};function m(){var e;let t=(0,n.f)();return{data:x(null!==(e=t.get(i.cn.PROMOTION))&&void 0!==e?e:null),mutate:(0,c.useCallback)(e=>{t.set(i.cn.PROMOTION,JSON.stringify(e),{maxAgeSeconds:7776e3})},[t]),delete:(0,c.useCallback)(()=>{t.delete(i.cn.PROMOTION)},[t])}}function h(){var e,t;let{data:a}=m();return t=null!==(e=null==a?void 0:a.promotionId)&&void 0!==e?e:null,(0,s.WE)("/api/billing/promotion/".concat(t),{queryKey:[r.Lx,t],enabled:!!t,meta:{noToast:!0}})}function f(){let{data:e,mutate:t}=m();(0,c.useEffect)(()=>{(null==e?void 0:e.needsCheckout)&&(e.needsCheckout=void 0,t(e))},[e,t])}function p(e){let{data:t,mutate:a}=m(),s=null==t?void 0:t.promotionId,n=(0,o.Zr)("claude_ai_targeted_promotion","promotionId",null,u.z.string().nullable());return(0,c.useEffect)(()=>{!s&&n&&a({promotionId:n})},[s,n,a]),!!e&&!!(null==t?void 0:t.needsCheckout)&&!!(null==t?void 0:t.promotionId)}let g=()=>{let e=(0,c.useRef)(!1),t=(0,l.e)(),a=(0,d.Z)(),{delete:s}=m();return(0,c.useCallback)(n=>{var l;(null==n?void 0:null===(l=n.offerDetails)||void 0===l?void 0:l.offerError)&&!e.current&&(e.current=!0,t.addError(a.formatMessage({defaultMessage:"This promotion is not available for your account",id:"Vu9kt6ezVH"})),s())},[t,s,a])}},835:function(e,t,a){a.d(t,{q:function(){return i}});var s=a(27573),n=a(50322),l=a(10607);let i=e=>{let{name:t,size:a="md",variant:i="default"}=e,r=null==t?void 0:t.split(" ").map(e=>0===e.length?"":e[0]).join("").substring(0,2).toLocaleUpperCase();return(0,s.jsx)("div",{className:(0,l.W)("flex shrink-0 items-center justify-center rounded-full font-bold select-none",{"h-4 w-4 text-[7px]":"xs"===a,"h-7 w-7 text-[12px]":"sm"===a,"h-8 w-8 text-[14px]":"md"===a,"h-10 w-10 text-lg":"lg"===a,"h-16 w-16 text-2xl":"xl"===a,"bg-text-200 text-bg-100":"default"===i,"bg-accent-pro-100 text-oncolor-100":"pro"===i,"bg-transparent text-text-300":"cardamom"===i}),children:r||(0,s.jsx)(n.n,{weight:(0,l.W)({regular:"xs"===a||"sm"===a,light:"md"===a,thin:"lg"===a||"xl"===a}),size:(0,l.W)({12:"xs"===a||"sm"===a,20:"md"===a,40:"lg"===a||"xl"===a})})})}},83617:function(e,t,a){a.d(t,{C:function(){return l}});var s=a(27573),n=a(10607);let l=e=>{let{color:t="default",size:a="default",children:l,className:i,uppercase:r}=e;return(0,s.jsx)("div",{className:(0,n.W)("inline-flex items-center align-middle leading-none","default"===t&&"bg-gradient-to-bl  from-bg-500/30  to-bg-500/70 text-text-300","flat"===t&&"bg-bg-500/40 text-text-200","secondary"===t&&"bg-accent-secondary-900/40 text-accent-secondary-200","pro"===t&&"bg-gradient-to-bl  from-accent-pro-200  to-accent-pro-100  text-oncolor-100","main"===t&&"bg-gradient-to-bl  from-accent-main-200/70  to-accent-main-100  text-oncolor-100","default"===a&&"h-5 px-1.5 rounded-md text-[0.625rem]","sm"===a&&"h-4 px-1 rounded text-[0.625rem]","lg"===a&&"h-6 px-2 rounded-lg text-xs",r&&"uppercase tracking-[0.015rem]",i),children:l})}},69069:function(e,t,a){a.d(t,{M:function(){return r}});var s=a(27573),n=a(27218),l=a(835);let i=e=>{var t,a,n;let{account:i,size:r,variant:o}=e,c=null!==(n=null!==(a=null!==(t=null==i?void 0:i.full_name)&&void 0!==t?t:null==i?void 0:i.display_name)&&void 0!==a?a:null==i?void 0:i.email_address)&&void 0!==n?n:"";return(0,s.jsx)(l.q,{name:c,size:r,variant:o})},r=e=>{let{size:t,variant:a}=e,{account:l}=(0,n.t)(),r=(0,n.ZJ)(),o=(0,n.ue)();return(0,s.jsx)(i,{account:l||null,size:t,variant:null!=a?a:r||o?"pro":"default"})}}}]);