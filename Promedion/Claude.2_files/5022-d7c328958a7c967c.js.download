"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5022],{6350:function(e,t,s){s.d(t,{t:function(){return r},y:function(){return o}});var n=s(27573),i=s(7653),a=s(6688);let l=(0,i.createContext)(void 0);function r(e){let{project:t,children:s}=e,i=(0,a.k)(t);return(0,n.jsx)(l.Provider,{value:i,children:s})}function o(){return(0,i.useContext)(l)}},96816:function(e,t,s){s.d(t,{H:function(){return r}});var n=s(27573),i=s(32737),a=s(88146),l=s(45790);function r(e){let{children:t}=e;return(0,n.jsx)(i.u,{tooltipContent:(0,n.jsxs)("div",{className:"max-w-48 p-1",children:[(0,n.jsx)("p",{className:"mb-2 whitespace-break-spaces text-xs tracking-tight",children:(0,n.jsx)(l.Z,{defaultMessage:"This is an example project. Create a new project to work with your own documents.",id:"aod9/juMdU"})}),(0,n.jsx)(a.default,{href:"/projects/create",className:"text-accent-secondary-200 text-xs tracking-tight",children:(0,n.jsx)(l.Z,{defaultMessage:"Create new project",id:"a7FtAnfVfj"})})]}),children:t})}},58865:function(e,t,s){s.d(t,{W:function(){return h}});var n=s(27573),i=s(27895),a=s(5984),l=s(70354),r=s(52939),o=s(87033),d=s(88146),c=s(7653),u=s(40950),x=s(45790),g=s(32559);function h(e){let{isOpen:t,onClose:s,project:h}=e,m=(0,u.Z)(),[p,f]=(0,c.useState)(h.prompt_template),[j,v]=(0,c.useState)(!1),{value:y}=(0,o.FL)("claudeai_custom_styles"),{value:w}=(0,o.FL)("claude_ai_cayenne"),{addError:b}=(0,i.e)(),{mutateAsync:S}=(0,g.dY)(h.uuid),N=async()=>{v(!0);try{await S({prompt_template:p}),s(),v(!1)}catch(e){b(m.formatMessage({defaultMessage:"Error saving instructions, please try again later",id:"WL3FdCcP2y"})),v(!1)}},M=h.prompt_template.length>0&&0===p.length,C=w?(0,n.jsx)(x.Z,{defaultMessage:"This will work alongside <link>user preferences</link> and the selected style in a chat.",values:{link:e=>(0,n.jsx)(d.default,{className:"hover:underline",href:"/settings/profile",children:e})},id:"NlixH3av58"}):(0,n.jsx)(x.Z,{defaultMessage:"This will work alongside the selected style in a chat.",id:"rptxrPz/Y3"});return(0,n.jsxs)(r.u_,{isOpen:t,onClose:s,modalSize:"xl",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("h2",{className:"font-styrene-display text-xl font-medium",children:(0,n.jsx)(x.Z,{defaultMessage:"Set project instructions",id:"+On7CFwfGv"})}),(0,n.jsxs)("p",{className:"text-text-300 text-sm",children:[(0,n.jsx)(x.Z,{defaultMessage:"Provide Claude with relevant instructions and information for chats within {projectName}.",id:"NM6ePuQ0y+",values:{projectName:h.name}}),"\xa0",y&&C]})]}),(0,n.jsx)("div",{className:"mb-6 mt-3",children:(0,n.jsx)(a.Kx,{"data-testid":"custom-instructions-textarea",value:p,onChange:e=>f(e.target.value),placeholder:[m.formatMessage({defaultMessage:"Think step by step and show reasoning for complex problems. Use specific examples.",id:"j554E3Ar1K"}),m.formatMessage({defaultMessage:"Break down large tasks and ask clarifying questions when needed.",id:"H/tJ47E9to"}),m.formatMessage({defaultMessage:"Use Artifacts only for web apps and code demos.",id:"U50hIJOW7M"}),m.formatMessage({defaultMessage:"When giving feedback, explain thought process and highlight issues and opportunities.",id:"f2YGj7vTV3"})],minRows:16,required:!0,customScrollbar:!0,className:"max-h-80"})}),(0,n.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,n.jsx)(l.z,{variant:"secondary",onClick:s,children:(0,n.jsx)(x.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,n.jsx)(l.z,{loading:j,disabled:h.prompt_template===p,onClick:()=>{N()},children:M?(0,n.jsx)(x.Z,{defaultMessage:"Clear instructions",id:"aHS9gkqH/s"}):(0,n.jsx)(x.Z,{defaultMessage:"Save instructions",id:"wtm6MF4hNg"})})]})]})}},56809:function(e,t,s){s.d(t,{U:function(){return ei}});var n=s(27573),i=s(7653),a=s(91887),l=s(96070),r=s(27895),o=s(70354),d=s(10571),c=s(10228),u=s(32411),x=s(8626),g=s(8927),h=s(68425),m=s(45790),p=s(95899),f=s(92676),j=s(53949),v=s(16282),y=s(21230),w=s(32737),b=s(35807),S=s(63738),N=s(10607),M=s(43290),C=s(40950);let k=e=>{let{file:t,canEditKnowledgeBase:s,isLoading:i,deleteFile:a,shouldHideDeleteButton:l,relativeFileLength:r,compressButton:d}=e,c=(0,C.Z)(),u="created_at"in t?t.created_at:null;return(0,n.jsxs)("div",{className:(0,N.Z)("group flex items-center gap-2 rounded-lg py-0.5 transition-colors lg:-ml-1.5 lg:-mr-1 lg:p-1",s&&"lg:hover:bg-bg-300"),children:[(0,n.jsx)(v.mB,{file:t,size:"xs"}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("div",{className:"mb-0.5 mt-1 line-clamp-1 break-all text-sm",children:(0,v.a9)(t.file_name)}),(0,n.jsxs)("div",{className:"text-text-400 flex items-center gap-1 text-xs",children:[!!u&&(0,n.jsx)(y.i,{datetime:M.ou.fromISO(u),locale:c.locale}),!!r&&(0,n.jsxs)(n.Fragment,{children:[!!u&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-text-500/50 text-[6px]",children:"•"})}),r]})]})]}),s&&(0,n.jsx)("div",{className:(0,N.Z)("transition-opacity group-has-[:focus-visible]/row:opacity-100 group-hover:opacity-100",i?"opacity-100":"lg:opacity-0"),children:i?(0,n.jsx)(b.U,{className:"animate-spin",size:18}):(0,n.jsxs)("div",{className:(0,N.Z)("transition-opacity",l?"opacity-0":"opacity-100"),children:[d,(0,n.jsx)(w.u,{tooltipContent:c.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),children:(0,n.jsx)(o.z,{size:"icon_sm",variant:"ghost",disabled:i||l,onClick:a,"aria-label":c.formatMessage({defaultMessage:"Remove from project knowledge",id:"eRF6oJ+Cb5"}),children:(0,n.jsx)(S.r,{size:16})})})]})})]})},E=e=>{let{doc:t,canEditKnowledgeBase:s,shouldHideDeleteButton:r=!1,compressButton:o,...d}=e,{mutate:c,isPending:u}=(0,p.ER)(t.project_uuid),x=(0,i.useMemo)(()=>(function(e){let t={2e4:"Large file",6e4:"Very large file"},s=e.length,n=Object.keys(t).reverse();for(let e=0;e<n.length;e++)if(s>parseInt(n[e]))return t[n[e]]})(t.content),[t]),g=(0,i.useMemo)(()=>new TextEncoder().encode(t.content).length,[t]),h={created_at:t.created_at,file_name:t.file_name,file_size:g,file_type:"",extracted_content:t.content,origin:j.i.UserUpload};return(0,l.b)()?(0,n.jsx)(a.mB,{...d,file:h,handleRemove:()=>c({docUuid:t.uuid})}):(0,n.jsx)(k,{file:{created_at:t.created_at,file_name:t.file_name,file_size:g,file_type:"",extracted_content:t.content,origin:j.i.UserUpload},canEditKnowledgeBase:s,isLoading:u,shouldHideDeleteButton:r,relativeFileLength:x,deleteFile:()=>c({docUuid:t.uuid}),compressButton:o})},D=e=>{let{file:t,projectUuid:s,canEditKnowledgeBase:i,shouldHideDeleteButton:r=!1,...o}=e,{mutate:d,isPending:c}=(0,p.h4)(s),u=()=>{d({file_uuids:[t.file_uuid]})};return(0,l.b)()?(0,n.jsx)(a.mB,{...o,file:t,handleRemove:u,isLoading:c}):(0,n.jsx)(k,{file:t,canEditKnowledgeBase:i,isLoading:c,shouldHideDeleteButton:r,deleteFile:u})};var U=s(6350),_=s(76742),Z=s(1183),A=s(36041),z=s(32006),P=s(13890),I=s(40845),F=s(30070),T=s(67476),L=s(26608),O=s(19132),R=s(71101),B=s(31275),H=s(49692),G=s(74339),K=s(31860),V=s(84344);function Y(e){let{uri:t,isError:s,isLink:i=!1}=e,{data:a,isLoading:l}=(0,G.gQ)({documentId:t}),r=(0,V.v)(t);return(0,n.jsx)(K.$,{title:null==a?void 0:a.title,url:r,isLoading:l,isError:s,isLink:i,defaultErrorTitle:"Outline"})}var q=s(70873),W=s(90824);function X(e){let{projectUuid:t,syncSource:s,isActionsHidden:a,canEditKnowledgeBase:r,...o}=e,{mutateAsync:d}=(0,f.zB)(t),{isUpdating:u,handleUpdate:x,isFailing:g}=$({projectUuid:t,syncSource:s}),[h,p]=(0,i.useState)(!1),{type:j,status:{state:v,current_file_count:y},config:w}=s,b=(0,P.ir)(v);return(0,l.b)()?(0,n.jsx)(W.n4,{...o,location:"project",projectUuid:t,syncSource:s,handleRemove:()=>d(s.uuid),actions:s.type===c.Fg.GITHUB?(0,n.jsx)(J,{handleUpdate:x,isFailing:g,isSyncing:u}):void 0,isSyncing:u||g}):(0,n.jsxs)("div",{className:(0,N.Z)("group flex flex-row items-center gap-2 rounded-lg px-0  lg:-ml-1.5 lg:-mr-1 lg:p-1 transition relative",r&&"lg:hover:bg-bg-300"),children:[(0,n.jsxs)("div",{className:"flex-1 inline-flex items-center gap-2",children:[(0,n.jsx)("div",{className:(0,N.Z)("relative inline-flex items-center shrink-0 justify-center h-10 w-10 m-0.5 border-0.5 border-border-300 rounded-lg",r&&"group-hover:border-border-200 group-hover:bg-bg-200"),children:(0,n.jsx)(z.j0,{type:j,size:24,variant:z.cT.DOCS,isError:b})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm line-clamp-1 break-all",children:j===c.Fg.GITHUB?(0,n.jsx)(H.d,{config:w,isError:b}):j===c.Fg.GDRIVE?(0,n.jsx)(R.C,{uri:w.uri,isError:b,isLink:v!==c.co.UNAUTHENTICATED}):j===c.Fg.OUTLINE?(0,n.jsx)(Y,{uri:w.outline_uri,isError:b,isLink:v!==c.co.UNAUTHENTICATED}):null}),(0,n.jsxs)("div",{className:"flex flex-row gap-1 text-xs text-text-400",children:[(0,n.jsx)("span",{className:"line-clamp-1",children:(0,n.jsx)(q.w,{syncSource:s})}),!!y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-text-500/50 text-[6px] hidden sm:inline",children:(0,n.jsx)(n.Fragment,{children:"•"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:(0,n.jsx)(m.Z,{defaultMessage:"{count, plural, one {# file} other {# files}}",id:"Lf81FX5U/k",values:{count:y}})})]})]})]})]}),!a&&(0,n.jsx)(Q,{isError:b,canRefresh:s.type===c.Fg.GITHUB,onEdit:s.type===c.Fg.GITHUB?()=>p(!0):void 0,projectUuid:t,syncSource:s}),s.type===c.Fg.GITHUB&&(0,n.jsx)(B.U,{location:"project",isOpen:h,onClose:()=>p(!1),projectUuid:t,syncSource:s})]})}function J(e){let{handleUpdate:t,isFailing:s,isSyncing:i}=e,l=(0,C.Z)();return(0,n.jsx)(w.u,{tooltipContent:i?l.formatMessage({defaultMessage:"Syncing...",id:"S92mvo6R0o"}):s?l.formatMessage({defaultMessage:"Sync failed. Click to retry",id:"zOAqlyzs1U"}):l.formatMessage({defaultMessage:"Sync now",id:"SwsYB/OerA"}),children:(0,n.jsx)(a.l1,{className:"!w-[18px] !px-0 shrink-0",onClick:t,children:i?(0,n.jsx)(I.t,{size:12,className:"animate-spin"}):s?(0,n.jsx)(F.v,{size:12}):(0,n.jsx)(I.t,{size:12})})})}function Q(e){let{isError:t,canRefresh:s,onEdit:i,projectUuid:a,syncSource:l}=e,{mutateAsync:r}=(0,f.zB)(a),d=(0,C.Z)(),{isUpdating:c,isFailing:u,handleUpdate:x}=$({projectUuid:a,syncSource:l});return(0,n.jsxs)("div",{className:(0,N.Z)("h-full lg:pl-4 lg:absolute flex items-center lg:pr-2 right-0 rounded-md lg:bg-gradient-to-l from-bg-200 from-80% group-hover:from-bg-300 transition-all lg:opacity-0 group-hover:opacity-100 group-has-[:focus-visible]/row:opacity-100",c&&"lg:opacity-100"),children:[!t&&s&&(0,n.jsx)(w.u,{tooltipContent:c?d.formatMessage({defaultMessage:"Syncing...",id:"S92mvo6R0o"}):u?d.formatMessage({defaultMessage:"Sync failed. Click to retry",id:"zOAqlyzs1U"}):d.formatMessage({defaultMessage:"Sync now",id:"SwsYB/OerA"}),children:(0,n.jsx)(o.z,{variant:"ghost",size:"icon_sm",onClick:x,children:c?(0,n.jsx)(I.t,{className:"animate-spin"}):u?(0,n.jsx)(F.v,{}):(0,n.jsx)(I.t,{})})}),!t&&i&&(0,n.jsx)(w.u,{tooltipContent:d.formatMessage({defaultMessage:"Configure files",id:"rAV3qK0Jqb"}),children:(0,n.jsx)(o.z,{variant:"ghost",size:"icon_sm",onClick:i,children:(0,n.jsx)(T.X,{})})}),(0,n.jsx)(w.u,{tooltipContent:d.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),children:(0,n.jsx)(o.z,{variant:"ghost",size:"icon_sm",onClick:()=>r(l.uuid),children:(0,n.jsx)(L.r,{})})})]})}function $(e){let{projectUuid:t,syncSource:s}=e,[n,a]=(0,i.useState)(!1),{addSuccess:l}=(0,r.e)(),o=(0,C.Z)(),{mutate:d}=(0,f.l2)(t,{onSuccess:()=>{l(o.formatMessage({defaultMessage:"Sync started",id:"yyuAtTi0E+"}))}});(0,i.useEffect)(()=>{a(!1)},[s.status]);let c=(0,O.sf)(s)||n,u=(0,O.xm)(s),x=(0,i.useCallback)(()=>{c||(a(!0),d({sync_source_uuid:s.uuid,sync_source_config:s.config}))},[c,d,s.config,s.uuid]);return{isUpdating:c,isFailing:u,handleUpdate:x}}s(27218);var ee=s(843);let et="project_syncs",es="project_docs",en="project_linked_files";function ei(e){let{project:t,canEditKnowledgeBase:s=!1,isUploadingDoc:r=!1,isUploadingDriveSync:c=!1,isUploadingOutlineSync:x=!1,isUploadingGithubSync:p=!1,setIsUploadingDoc:f,setIsUploadingDriveSync:j,setIsUploadingOutlineSync:v,setIsUploadingGithubSync:y,maxItems:w,onViewAll:b,onClickProjectDoc:S,isEditable:N}=e,{githubSyncSources:M,driveSyncSources:C,outlineSyncSources:k,projectDocs:_,linkedFiles:Z,isFetchingKnowledge:z,knowledgeCount:P}=el({projectUuid:t.uuid,maxItems:w}),{isDeleting:I,selectedItems:F,handleSelect:T,selectAllItems:L,isInSelectionMode:O,toggleSelectMode:R,handleDeleteSelected:B}=er({githubSyncSources:M,driveSyncSources:C,outlineSyncSources:k,projectDocs:_,linkedFiles:Z,projectUuid:t.uuid,isEnabled:s});ea({clearUploadingState:()=>null==f?void 0:f(!1),numItems:_.length+Z.length}),ea({clearUploadingState:()=>null==y?void 0:y(!1),numItems:M.length}),ea({clearUploadingState:()=>null==j?void 0:j(!1),numItems:C.length}),ea({clearUploadingState:()=>null==v?void 0:v(!1),numItems:k.length});let H={isInSelectionMode:O,canEditKnowledgeBase:s},G=new Set(F.map(e=>{let{uuid:t}=e;return t})),K=(0,l.b)(),V=(0,U.y)();if(z)return(0,n.jsx)(d.g,{height:65,className:"opacity-25 rounded-lg mb-3 mt-3"});if(0===P)return(0,n.jsx)(eo,{canEditKnowledgeBase:s,projectStrings:V});let Y=(0,n.jsx)(g.M,{children:O&&(0,n.jsx)(h.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"ml-auto",children:(0,n.jsx)("div",{className:"flex mt-3 gap-2 justify-end",children:(0,n.jsx)(A.J,{isLoading:I,numSelected:F.length,totalNumItems:P,handleSelectAll:L,handleCancel:()=>R(!1),handleDeleteSelected:B})})},"item-management-menu")}),q={size:"stretch",isEditable:N,isInSelectionMode:O};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.M,{children:s&&(0,n.jsx)(h.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:(0,n.jsx)(ee.n,{projectUuid:t.uuid})})}),K?(0,n.jsx)("ul",{className:"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-3",children:(0,n.jsxs)(g.M,{initial:!1,children:[(0,n.jsx)(a.fz,{isShown:c,...q}),C.map(e=>(0,n.jsx)(X,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:O||!s,...q,isSelected:G.has(e.uuid),handleSelect:(t,s)=>T({uuid:e.uuid,type:et},t,s)},e.uuid)),(0,n.jsx)(a.fz,{isShown:x,...q}),k.map(e=>(0,n.jsx)(X,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:O||!s,...q,isSelected:G.has(e.uuid),handleSelect:(t,s)=>T({uuid:e.uuid,type:et},t,s)},e.uuid)),(0,n.jsx)(a.fz,{isShown:p,...q}),M.map(e=>(0,i.createElement)(X,{...q,key:e.uuid,projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:O||!s,isSelected:G.has(e.uuid),handleSelect:(t,s)=>T({uuid:e.uuid,type:et},t,s)})),(0,n.jsx)(a.fz,{isShown:r,...q}),_.map(e=>(0,i.createElement)(E,{...q,key:e.uuid,doc:e,canEditKnowledgeBase:s,shouldHideDeleteButton:O,compressButton:void 0,isSelected:G.has(e.uuid),handleSelect:(t,s)=>T({uuid:e.uuid,type:es},t,s)})),Z.map(e=>(0,i.createElement)(D,{...q,key:e.file_uuid,file:e,projectUuid:t.uuid,canEditKnowledgeBase:s,shouldHideDeleteButton:O,handleSelect:(t,s)=>T({uuid:e.file_uuid,type:en},t,s),isSelected:G.has(e.file_uuid)}))]})}):(0,n.jsx)("ul",{className:"flex flex-col py-1",children:(0,n.jsxs)(g.M,{initial:!1,children:[(0,n.jsx)(ec,{isShown:c},"drive-skeleton-loader"),C.map(e=>(0,n.jsx)(ed,{isSelected:G.has(e.uuid),...H,handleSelect:(t,s)=>T({uuid:e.uuid,type:et},t,s),children:(0,n.jsx)(X,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:O||!s})},e.uuid)),(0,n.jsx)(ec,{isShown:x},"outline-skeleton-loader"),k.map(e=>(0,n.jsx)(ed,{isSelected:G.has(e.uuid),...H,handleSelect:(t,s)=>T({uuid:e.uuid,type:et},t,s),children:(0,n.jsx)(X,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:O||!s})},e.uuid)),(0,n.jsx)(ec,{isShown:p},"github-skeleton-loader"),M.map(e=>(0,n.jsx)(ed,{isSelected:G.has(e.uuid),...H,handleSelect:(t,s)=>T({uuid:e.uuid,type:et},t,s),children:(0,n.jsx)(X,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:O||!s})},e.uuid)),(0,n.jsx)(ec,{isShown:r},"doc-skeleton-loader"),_.map(e=>(0,n.jsx)(ed,{isSelected:G.has(e.uuid),...H,handleSelect:(t,s)=>T({uuid:e.uuid,type:es},t,s),className:S?"cursor-pointer":void 0,handleClick:()=>null==S?void 0:S(e.uuid),children:(0,n.jsx)(E,{doc:e,canEditKnowledgeBase:s,shouldHideDeleteButton:O,compressButton:void 0})},e.uuid)),Z.map(e=>(0,n.jsx)(ed,{isSelected:G.has(e.file_uuid),...H,handleSelect:(t,s)=>T({uuid:e.file_uuid,type:en},t,s),children:(0,n.jsx)(D,{file:e,projectUuid:t.uuid,canEditKnowledgeBase:s,shouldHideDeleteButton:O})},e.file_uuid))]})}),Y,!!b&&!!w&&P>w&&(0,n.jsx)("div",{children:(0,n.jsxs)(o.z,{variant:"unstyled",onClick:b,className:"hover:text-text-000 hover:underline !px-0 text-sm",children:[(0,n.jsx)(m.Z,{defaultMessage:"View all {count} files",id:"b36mSZ46cW",values:{count:P}}),(0,n.jsx)(u.o,{size:16,className:"inline-block pl-1"})]})})]})}let ea=e=>{let{clearUploadingState:t,numItems:s}=e,n=(0,i.useRef)(s);(0,i.useEffect)(()=>{s>n.current&&t(),n.current=s},[s,t])},el=e=>{let{projectUuid:t,maxItems:s}=e,{data:n=[],isLoading:i}=(0,p.Kf)(t),a=[...n],{data:l=[],isLoading:r}=(0,f.yg)(t),{data:o=[]}=(0,p.pK)(t),d=[...o],u=l.filter(e=>{let{type:t}=e;return t===c.Fg.GDRIVE}),x=l.filter(e=>{let{type:t}=e;return t===c.Fg.OUTLINE}),g=l.filter(e=>{let{type:t}=e;return t===c.Fg.GITHUB});if(s){let e=s;[u,x,g,a,d].forEach(t=>{t.splice(e),e=Math.max(0,e-t.length)})}let h=[a,l,d].reduce((e,t)=>{var s;return e+(null!==(s=null==t?void 0:t.length)&&void 0!==s?s:0)},0);return{driveSyncSources:u,outlineSyncSources:x,githubSyncSources:g,projectDocs:a,linkedFiles:d,isFetchingKnowledge:i||r,knowledgeCount:h}},er=e=>{let{githubSyncSources:t,driveSyncSources:s,outlineSyncSources:n,projectDocs:i,linkedFiles:a,projectUuid:l,isEnabled:o}=e,d=s.map(e=>{let{uuid:t}=e;return{type:et,uuid:t}}).concat(t.map(e=>{let{uuid:t}=e;return{type:et,uuid:t}})).concat(n.map(e=>{let{uuid:t}=e;return{type:et,uuid:t}})).concat(i.map(e=>{let{uuid:t}=e;return{type:es,uuid:t}})).concat(a.map(e=>{let{file_uuid:t}=e;return{type:en,uuid:t}})),{selectedItems:c,handleSelect:u,selectAllItems:x,isInSelectionMode:g,toggleSelectMode:h}=(0,_.M)(d,!o),{addError:m}=(0,r.e)(),{mutateAsync:j,isPending:v}=(0,f.IP)(l),{mutateAsync:y,isPending:w}=(0,p.op)(l),{mutateAsync:b,isPending:S}=(0,p.h4)(l),N=async()=>{let e=c.filter(e=>{let{type:t}=e;return t===es}),t=c.filter(e=>{let{type:t}=e;return t===et}),s=c.filter(e=>{let{type:t}=e;return t===en});h(!1);try{await Promise.all([e.length?y({doc_uuids:e.map(e=>{let{uuid:t}=e;return t})}):Promise.resolve(),t.length?j({sync_source_uuids:t.map(e=>{let{uuid:t}=e;return t})}):Promise.resolve(),s.length?b({file_uuids:s.map(e=>{let{uuid:t}=e;return t})}):Promise.resolve()])}catch(e){m("Something went wrong while deleting. Refresh the page and try again")}};return{isDeleting:w||v||S,selectedItems:c,handleSelect:u,selectAllItems:x,isInSelectionMode:g,toggleSelectMode:h,handleDeleteSelected:N}},eo=e=>{var t,s;let{canEditKnowledgeBase:i,projectStrings:a}=e;return(0,n.jsxs)("div",{className:"bg-bg-500/10 text-text-400 mb-1 mt-2 flex w-full flex-col items-center gap-3 rounded-lg px-6 pb-10 pt-8 text-center text-sm",children:[(0,n.jsx)(x.g,{size:36,weight:"thin"}),i?null!==(t=null==a?void 0:a.projectNoKnowledgeCanAddMessage)&&void 0!==t?t:(0,n.jsx)(m.Z,{defaultMessage:"No knowledge added yet. Add PDFs, documents, or other text to the project knowledge base that Claude will reference in every project conversation.",id:"j7/C6AKAfW"}):null!==(s=null==a?void 0:a.projectNoKnowledgeCantAddMessage)&&void 0!==s?s:(0,n.jsx)(m.Z,{defaultMessage:"No knowledge added yet.",id:"frsVQgI4+c"})]})};function ed(e){let{handleSelect:t,isSelected:s,isInSelectionMode:i,canEditKnowledgeBase:a,className:l,handleClick:r,children:o}=e;return(0,n.jsx)(h.E.li,{initial:{height:0,opacity:0},exit:{height:0,opacity:0},animate:{height:"auto",opacity:1},children:(0,n.jsx)(Z.f,{itemName:"content",isSelected:s,checkboxOffset:"-left-4",isInSelectionMode:i,hiddenAndDisabled:!a,handleSelect:t,children:(0,n.jsx)("div",{className:l,onClick:r,children:o})})})}function ec(e){let{isShown:t}=e;return t?(0,n.jsx)(h.E.li,{className:"flex items-center overflow-hidden",initial:{height:0,opacity:0},animate:{height:"3rem",opacity:1},children:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[(0,n.jsx)(d.g,{className:"opacity-25 rounded-lg h-48 shrink-0",height:40,width:40}),(0,n.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,n.jsx)(d.g,{className:"opacity-25 rounded-lg",height:12,width:"50%"}),(0,n.jsx)(d.g,{className:"opacity-25 rounded-lg",height:12,width:"90%"})]})]})},0):null}},843:function(e,t,s){s.d(t,{n:function(){return en},l:function(){return J}});var n=s(27573),i=s(26525),a=s(5161),l=s(27218),r=s(27895),o=s(5984),d=s(32006),c=s(70354),u=s(45033),x=s(52939),g=s(32737),h=s(44512),m=s(13262),p=s(87033),f=s(10228),j=s(34505),v=s(89755),y=s(37141),w=s(11919),b=s(49454),S=s(77930),N=s(10607),M=s(7653),C=s(40950),k=s(45790),E=s(95899),D=s(32559),U=s(2949),_=s(89111),Z=s(74339),A=s(23098),z=s(96816),P=s(79208),I=s(31275),F=s(1154),T=s(30684),L=s(86973),O=s(66605),R=s(92676),B=s(9677),H=s(85465);function G(e){let{conversation:t}=e,s=(0,U.ez)(),i=(0,U.EU)(t),{toggleConversationSetting:a}=(0,H.M0)();return s?(0,n.jsx)("div",{className:"px-2 py-1.5 -mx-1 -mb-1 border-t-0.5 border-border-300 hover:bg-bg-200",children:(0,n.jsxs)(u.hP,{className:"flex flex-row gap-4 cursor-pointer px-2 pt-1 pb-2",onSelect:e=>{e.stopPropagation(),e.preventDefault(),a("enabled_bananagrams",!i)},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("p",{children:(0,n.jsx)(k.Z,{defaultMessage:"Allow Claude to search",id:"zyxxt7OHPv"})}),(0,n.jsx)("p",{className:"text-xs text-text-400",children:(0,n.jsx)(k.Z,{defaultMessage:"Claude will search for relevant documents",id:"JxbYvAvtdV"})})]}),(0,n.jsx)(B.Z,{checked:i,readOnly:!0})]})}):null}var K=s(71101),V=s(70712),Y=s(56767);let q={includeScore:!0,threshold:.3,keys:["title"],ignoreLocation:!0},W=e=>{let{conversation:t,projectUuid:s,trigger:i,align:a,isSubDropdown:l=!1,setIsUploadingDriveSync:d,onCreated:c,isOpen:x,setIsOpen:g,closeWholeDropdown:m=()=>g(!1),shouldAddSyncUponPaste:j}=e,v=(0,C.Z)(),{value:y}=(0,p.FL)("kingfisher_prefetch"),{recentDriveDocs:w,isLoading:b}=(0,U.td)(y||x),[S,N]=(0,M.useState)(""),[k,E]=(0,M.useState)(!1),[D,_]=(0,M.useState)(""),{addError:Z}=(0,r.e)(),A=(0,M.useRef)(null),z=(0,M.useRef)(null),P=()=>{d(!0),E(!0)},I=e=>{null==c||c(e),m(),E(!1)},F=e=>{d(!1),E(!1),Z((0,Y.A)(e))},{mutate:T}=(0,O.cE)({onMutate:P,onSuccess:I,onError:F,meta:{noToast:!0}}),{mutate:B}=(0,R.gr)(s,{onMutate:P,onSuccess:I,onError:F,meta:{noToast:!0}}),H=(0,M.useMemo)(()=>w&&S?new L.Z(w,q).search(S).map(e=>e.item):w,[w,S]),K=S?null==H?void 0:H.slice(0,7):null==w?void 0:w.slice(0,5),W=e=>{m(),(s?B:T)({sync_source_type:f.Fg.GDRIVE,sync_source_config:{uri:e}})},J=e=>{let t=(0,V.g)(e);N(e);let s="";if(t)W(t);else if((0,V.k)(e))s=v.formatMessage({defaultMessage:"Only Google Docs are supported at this time",id:"P3m20xflVA"});else try{new URL(e),s=v.formatMessage({defaultMessage:"Not a valid Google Doc URL",id:"S//j6oF0j8"})}catch(e){}_(s)};(0,h.pp)({target:A,shouldFocus:x}),(0,M.useEffect)(()=>{x||(N(""),E(!1),_(""))},[x,N,E,_]);let Q=!!s,$=l?u.A2:u.Lt;return(0,n.jsxs)($,{className:"text-md w-[332px] p-0 overflow-hidden",align:a,trigger:i,onKeyDown:e=>{if(!["Enter","ArrowDown","ArrowUp"].includes(e.key)){var t;null===(t=A.current)||void 0===t||t.focus()}},onFocusOutside:e=>e.preventDefault(),...l?{forceMount:!0}:{open:x,onOpenChange:g,unstyledTrigger:!0},children:[(0,n.jsx)(u.YG,{children:(0,n.jsx)(o.oi,{ref:A,value:S,placeholder:v.formatMessage({defaultMessage:"Search recents or paste URL",id:"jprBObbn5b"}),className:"w-full bg-inherit border-none select-none",onChange:e=>{J(e.target.value)},onPasteCapture:e=>{if(e.stopPropagation(),!x)return;let t=e.clipboardData.getData("text"),s=(0,V.g)(t);s&&j&&W(s)},onKeyDown:e=>{if("ArrowLeft"===e.key&&S)e.stopPropagation();else if("Enter"===e.key)J(e.currentTarget.value);else if("ArrowDown"===e.key&&K&&K.length>0){var t;e.preventDefault(),null===(t=z.current)||void 0===t||t.focus()}},"data-1p-ignore":!0,autoComplete:"off",autoFocus:!0})}),(0,n.jsx)(X,{inputRef:A,firstDocumentRef:z,handleAddDocument:W,documents:K,isValidatingUrl:k,isFetchingRecentDriveDocs:b,errorMessage:D}),!Q&&!S&&(0,n.jsx)(G,{conversation:t})]})},X=e=>{let{inputRef:t,firstDocumentRef:s,handleAddDocument:i,documents:a,isValidatingUrl:l,isFetchingRecentDriveDocs:r,errorMessage:o}=e,c=l||r&&!a.length,x=!!o,g=!c&&(!a||!a.length);return c?(0,n.jsx)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:(0,n.jsx)(F.$,{className:"animate-spin mx-auto"})}):x?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px] text-center",children:[(0,n.jsx)(T.l,{size:24,className:"text-text-400",weight:"duotone"}),(0,n.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,n.jsx)(k.Z,{defaultMessage:"Invalid URL",id:"SASA4f9KO3"})}),(0,n.jsx)("p",{className:"text-sm text-danger-000",children:o})]}):g?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:[(0,n.jsx)(T.l,{size:24,className:"text-text-400",weight:"duotone"}),(0,n.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,n.jsx)(k.Z,{defaultMessage:"No recents found",id:"2FzJykASLO"})}),(0,n.jsx)("p",{className:"text-sm text-text-500",children:(0,n.jsx)(k.Z,{defaultMessage:"Try pasting the URL instead",id:"jf3/+bX0lc"})})]}):(0,n.jsx)("div",{className:"px-1.5 py-1",children:a.map((e,a)=>{let{uri:l,title:r}=e;return(0,n.jsxs)(u.hP,{className:"!grid-cols-[max-content_auto] hover:text-text-000 hover:bg-bg-200",ref:0===a?s:void 0,onClick:()=>i(l),onKeyDown:e=>{if("ArrowUp"===e.key&&0===a){var s;e.preventDefault(),null===(s=t.current)||void 0===s||s.focus()}},textValue:"",onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,n.jsx)(d.j0,{type:f.Fg.GDRIVE,variant:d.cT.DOCS,size:16}),(0,n.jsx)("span",{className:"truncate",children:null!=r?r:(0,n.jsx)(K.C,{uri:l})})]},l)})})};s(10571);let J=e=>{let{projectUuid:t,isStarterProject:s,isUploading:o,setIsUploadingDoc:d,setIsUploadingGithubSync:c,setIsUploadingDriveSync:u,setIsUploadingOutlineSync:x}=e,{activeOrganization:g}=(0,l.t)(),h=null==g?void 0:g.uuid,f=(0,C.Z)(),j=(0,M.useRef)(null),[v,y]=(0,M.useState)(""),[w,b]=(0,M.useState)(""),[N,z]=(0,M.useState)(!1),[P,F]=(0,M.useState)(!1),[T,L]=(0,M.useState)(!1),{addError:O}=(0,r.e)(),{mutateAsync:R}=(0,E.u3)(t,{onError:()=>d(!1)}),{data:B}=(0,D.Yc)(t),{checkIsGithubAuthenticated:H,initGithubAuth:G}=(0,_.Yn)({callerIdentifier:"project",toggleGithubModalOpen:F}),K=(0,_.H7)(),{isOutlineAuthenticated:V}=(0,Z.vc)(),Y=(0,Z.J$)(),q=(0,U.Aj)(),W=(0,A.nR)(t),X=(0,A.mo)(),J=(null!=W?W:0)>X,$=(0,S.useQueryClient)(),ee=(0,M.useCallback)(async(e,s)=>{for(let t of e)await R({file_name:t.file_name,content:t.extracted_content});s.length&&$.invalidateQueries({queryKey:[m.jb,{orgUuid:h,projectUuid:t}]})},[R,h,t,$]),et=(0,a.eh)(),en=(0,i.H0)(),{value:ei}=(0,p.FL)("project_janus"),{value:ea}=(0,p.FL)("project_image"),{handleUpload:el}=(0,i.Vn)({imagesEnabled:ea,blobFileUploadsEnabled:et,rasterizePdfUploadsEnabled:en&&ei,onUploadComplete:async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];await ee(...t)},onError:()=>{d(!1)},projectUuid:t}),er=(0,M.useCallback)(async e=>{let t=e.target.files;t&&(d(!0),await el(Array.from(t),X-(null!=W?W:0)),d(!1)),e.target.value=""},[el,d,W,X]),eo=async()=>{try{z(!1),d(!0),await R({file_name:w,content:v}),b(""),y("")}catch(e){d(!1),O(f.formatMessage({defaultMessage:"Error saving text content",id:"9U64gLEIVo"}))}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{"data-testid":"project-doc-upload",ref:j,type:"file",className:"hidden",accept:(0,a.tB)({imagesEnabled:ea,outOfContextFilesEnabled:et}).join(","),onChange:er,multiple:!0}),(0,n.jsx)(Q,{projectUuid:t,shouldShowGithubSyncSource:K,shouldShowDriveSyncSource:q,shouldShowOutlineSyncSource:Y,handleGithubClick:()=>{H().then(e=>{if(e){F(!0);return}G()})},handleOutlineClick:()=>{V?L(!0):O((0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)("div",{children:(0,n.jsx)(k.Z,{defaultMessage:"You need to connect to Outline before using this feature.",id:"PejG+e4wN5"})}),(0,n.jsx)("button",{onClick:()=>{window.location.href="/settings/profile"},className:"mt-2 underline",children:(0,n.jsx)(k.Z,{defaultMessage:"Connect to Outline",id:"m1DuTWXorQ"})})]}))},handleFileUploadClick:()=>{j.current&&j.current.click()},handleTextContentClick:()=>z(!0),isPrivateProject:!!(null==B?void 0:B.is_private),isStarterProject:s,isOverProjectKnowledgeLimit:J,isLoading:o,setIsUploadingDriveSync:u}),(0,n.jsx)(es,{isOpen:N,onClose:()=>z(!1),title:w,setTitle:b,content:v,setContent:y,onSave:eo}),K&&(0,n.jsx)(I.U,{location:"project",isOpen:P,onClose:()=>F(!1),projectUuid:t,setIsUploadingGithubSync:c}),Y&&""]})},Q=e=>{let{projectUuid:t,shouldShowGithubSyncSource:s,shouldShowDriveSyncSource:i,handleGithubClick:a,handleFileUploadClick:l,handleTextContentClick:r,isPrivateProject:o,isStarterProject:d,isOverProjectKnowledgeLimit:c,isLoading:x,shouldShowOutlineSyncSource:g,handleOutlineClick:h,setIsUploadingDriveSync:m}=e,[p,v]=(0,M.useState)(!1),[y,b]=(0,M.useState)(!1),S=i||s,{isDriveAuthenticated:N,initDriveAuth:C,handleDriveTrigger:E}=(0,U.nC)({callerIdentifier:"project",handleAuthSuccess:e=>{v(e),e?setTimeout(()=>{b(e)},100):b(e)}}),D=N&&o;return(0,n.jsxs)(u.Lt,{align:"end",unstyledTrigger:!0,trigger:(0,n.jsx)($,{isStarterProject:d,isOverProjectKnowledgeLimit:c,isLoading:x}),open:p,onOpenChange:v,children:[(0,n.jsx)(u.hP,{onClick:l,className:"text-left",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(w.p,{size:16}),(0,n.jsx)(k.Z,{defaultMessage:"Upload from device",id:"vMaZk5Jcnv"})]})}),(0,n.jsx)(u.hP,{onClick:r,className:"text-left",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(j.P,{size:16}),(0,n.jsx)(k.Z,{defaultMessage:"Add text content",id:"G7XW3Mvn8X"})]})}),S?(0,n.jsx)(u.u2,{}):null,s&&(0,n.jsx)(ee,{type:f.Fg.GITHUB,isPrivateProject:o,onClick:a}),i&&(0,n.jsx)(et,{projectUuid:t,isPrivateProject:o,setIsUploadingDriveSync:m,isOpen:y,setIsOpen:b,closeWholeDropdown:()=>{b(!1),v(!1)},showGoogleDriveSubDropdown:D,handleGoogleDriveButtonClick:()=>{!D&&o&&(N?E():C())}}),g&&(0,n.jsx)(ee,{type:f.Fg.OUTLINE,isPrivateProject:o,onClick:h})]})},$=(0,M.forwardRef)((e,t)=>{let{isStarterProject:s,isOverProjectKnowledgeLimit:i,isLoading:a,...l}=e,r=(0,n.jsx)(c.z,{...l,ref:t,className:"bg-inherit border-0.5 hover:bg-bg-300/70 border-border-300 transition rounded-lg  scale-100",size:"icon_sm",variant:"unstyled","data-testid":"project-doc-uploader-dropdown-trigger",disabled:s||i||a,loading:a,children:(0,n.jsx)(v.v,{size:14,weight:"bold"})});return s?(0,n.jsx)(z.H,{children:(0,n.jsx)("div",{children:r})}):i?(0,n.jsx)(g.u,{side:"bottom",tooltipContent:(0,n.jsx)(k.Z,{defaultMessage:"Project knowledge at capacity. Remove an existing file in order to add to knowledge",id:"g3hx72ya32"}),children:(0,n.jsx)("div",{children:r})}):(0,n.jsx)(g.u,{side:"bottom",tooltipContent:(0,n.jsx)(k.Z,{defaultMessage:"Add content to project",id:"kLVlcps4zm"}),children:r})});$.displayName="ProjectDocUploaderDropdownTrigger";let ee=e=>{let{type:t,isPrivateProject:s,isSubTrigger:i=!1,isSubDropdownOpen:a=!1,onClick:l}=e,r=i?u.WR:u.hP,o=(0,n.jsxs)(r,{onClick:l,onPointerLeave:e=>{i&&a&&e.preventDefault()},onPointerMove:e=>{i&&a&&e.preventDefault()},disabled:!s,className:"text-left",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.j0,{type:t,size:16}),(0,P.DH)(t)]}),i&&(0,n.jsx)(y.T,{size:16})]});return s?o:(0,n.jsx)(g.u,{side:"left",tooltipContent:(0,n.jsx)(k.Z,{defaultMessage:"Only accessible from private projects",id:"lNrma+LwGe"}),children:(0,n.jsx)("div",{children:o})})},et=e=>{let{projectUuid:t,isPrivateProject:s,setIsUploadingDriveSync:i,isOpen:a,setIsOpen:l,closeWholeDropdown:r,showGoogleDriveSubDropdown:o,handleGoogleDriveButtonClick:d}=e;return o?(0,n.jsxs)(u.Vy,{open:a,onOpenChange:l,children:[(0,n.jsx)(ee,{type:f.Fg.GDRIVE,isPrivateProject:s,isSubTrigger:!0,isSubDropdownOpen:a}),(0,n.jsx)(u.nI,{children:(0,n.jsx)(W,{projectUuid:t,isSubDropdown:!0,setIsUploadingDriveSync:i,isOpen:a,setIsOpen:l,closeWholeDropdown:r,shouldAddSyncUponPaste:!0})})]}):(0,n.jsx)(ee,{type:f.Fg.GDRIVE,isPrivateProject:s,onClick:d})},es=e=>{let{isOpen:t,onClose:s,title:i,setTitle:a,content:l,setContent:r,onSave:d}=e,u=(0,C.Z)(),g=(0,M.useRef)(null);return(0,h.pp)({shouldFocus:t,target:g}),(0,n.jsx)(x.u_,{isOpen:t,onClose:s,modalSize:"xl",className:"p-7 pt-6",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==i.trim()&&""!==l.trim()&&d()},children:[(0,n.jsx)("h2",{className:"font-tiempos mb-3 text-xl",children:(0,n.jsx)(k.Z,{defaultMessage:"Add text content",id:"G7XW3Mvn8X"})}),(0,n.jsx)(o.oi,{ref:g,placeholder:u.formatMessage({defaultMessage:"Name your content",id:"C7Sx4g/l21"}),className:"mb-2 w-full",size:"lg",label:(0,n.jsx)(k.Z,{defaultMessage:"Title",id:"9a9+wwWy4u"}),value:i,onChange:e=>a(e.target.value),required:!0}),(0,n.jsx)(o.Kx,{placeholder:u.formatMessage({defaultMessage:"Type or paste in content...",id:"f5RDuqxeT2"}),label:u.formatMessage({defaultMessage:"Content",id:"Jq3FDzj0/T"}),minRows:12,value:l,onChange:e=>r(e.target.value),required:!0,className:"max-h-[50vh] overflow-y-auto"}),(0,n.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,n.jsx)(c.z,{variant:"secondary",onClick:e=>{e.preventDefault(),s()},children:(0,n.jsx)(k.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,n.jsx)(c.z,{type:"submit",children:(0,n.jsx)(k.Z,{defaultMessage:"Add Content",id:"66s1201qd9"})})]})]})})},en=e=>{let{size:t="default",projectUuid:s,tooltipContent:i}=e,a=(0,A.nR)(s),l=(0,A.mo)();if(!a)return null;let r=Math.ceil(a/l*100),o=r>80&&r<100,d=r>=100;return(0,n.jsxs)("div",{className:(0,N.Z)("default"!==t&&"flex items-center gap-3"),children:[(0,n.jsx)("div",{className:(0,N.Z)("bg-bg-300 rounded-full p-px border-border-300 border-0.5","small"===t&&"w-24"),children:(0,n.jsx)("div",{style:{width:"".concat(Math.max(2,Math.min(100,r)),"%")},className:(0,N.Z)("h-1.5 rounded-full transition-all",!o&&!d&&"bg-accent-secondary-100",o&&"bg-warning-orange",d&&"bg-danger-100")})}),(0,n.jsxs)("div",{className:(0,N.Z)("flex gap-2 items-center text-xs","default"===t&&"mt-2"),children:[(0,n.jsx)("div",{className:(0,N.Z)("flex-1",r<100&&"text-text-400",r>=100&&"text-danger-000 font-medium"),children:(0,n.jsx)(k.Z,{defaultMessage:"{pctUsed}% of knowledge capacity used",id:"2JyXZfrx4Q",values:{pctUsed:r}})}),(0,n.jsx)(g.u,{className:"text-center mt-0.5",side:"left",tooltipContent:null!=i?i:(0,n.jsx)(k.Z,{defaultMessage:"Project knowledge is currently limited to Claude’s maximum context window size.",id:"aAeavdIV/P"}),children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(c.z,{size:"unset",variant:"unstyled",href:"https://support.anthropic.com/en/articles/9517075-what-are-projects",target:"_blank",className:"rounded-full text-text-500 hover:text-text-200",children:(0,n.jsx)(b.k,{size:14})})})})]}),r>=100&&(0,n.jsx)("div",{className:"text-text-400 text-xs",children:(0,n.jsx)(k.Z,{defaultMessage:"Remove an existing file in order to add to knowledge",id:"mSQjDnX2IA"})})]})}},79208:function(e,t,s){s.d(t,{DH:function(){return a},pz:function(){return i}});var n=s(10228);let i="settings",a=e=>n.hP[e]||e},76742:function(e,t,s){s.d(t,{M:function(){return i}});var n=s(7653);let i=(e,t)=>{let[s,i]=(0,n.useState)(!1),[a,l]=(0,n.useState)([]),r=(s,n)=>{t||l(t=>{if(!n||0===Object.keys(t).length)return[...t,s];let i=t[Object.keys(t).length-1],a=e.findIndex(e=>{let{uuid:t,type:s}=e;return t===i.uuid&&s===i.type});if(-1===a)return[...t,s];let l=e.findIndex(e=>{let{uuid:t}=e;return t===s.uuid}),r=e.slice(Math.min(a+1,l),Math.max(a-1,l)+1),o=t.map(e=>{let{uuid:t}=e;return t});return[...t,...r.filter(e=>{let{uuid:t}=e;return -1===o.indexOf(t)})]})},o=e=>{t||l(t=>t.filter(t=>{let{uuid:s,type:n}=t;return s!==e.uuid||n!==e.type}))};return(0,n.useEffect)(()=>{i(a.length>0)},[a]),{selectedItems:a,handleSelect:(e,s,n)=>{t||(s?r(e,n):o(e))},selectAllItems:()=>{t||l(e)},isInSelectionMode:!t&&s,toggleSelectMode:e=>{i(e),e||l([])}}}},1183:function(e,t,s){s.d(t,{f:function(){return r}});var n=s(27573),i=s(37499),a=s(32737),l=s(10607);function r(e){let{itemName:t,isInSelectionMode:s,isSelected:r,handleSelect:o,checkboxOffset:d,children:c,hiddenAndDisabled:u=!1}=e;return(0,n.jsxs)("div",{className:"relative group/row",children:[u?null:(0,n.jsx)("div",{className:(0,l.Z)("p-1 absolute z-10 top-1/2 -translate-y-1/2 -translate-x-1/2 transition duration-100 ",d,!s&&" opacity-0 scale-75 group-has-[:focus-visible]/row:opacity-100 group-has-[:focus-visible]/row:scale-100 group-hover/row:opacity-100 group-hover/row:scale-100"),children:(0,n.jsx)(a.u,{tooltipContent:r?"Deselect ".concat(t):"Select ".concat(t),className:"pointer-events-none",children:(0,n.jsx)("div",{children:(0,n.jsx)(i.X,{disabled:u,checked:r,onChange:o,label:"Select ".concat(t),hideLabel:!0})})})}),c]})}},36041:function(e,t,s){s.d(t,{J:function(){return l}});var n=s(27573),i=s(70354);s(7653);var a=s(45790);let l=e=>{let{isLoading:t,numSelected:s,totalNumItems:l,handleSelectAll:r,handleCancel:o,handleDeleteSelected:d}=e;return(0,n.jsxs)(n.Fragment,{children:[s<l&&(0,n.jsx)(i.z,{variant:"underline",className:"text-sm rounded-md text-accent-secondary-000 mr-2 !opacity-100 h-8",size:"unset",onClick:r,children:(0,n.jsx)(a.Z,{defaultMessage:"Select all",id:"94Fg25VD0N"})}),(0,n.jsx)(i.z,{size:"sm",variant:"secondary",onClick:o,children:(0,n.jsx)(a.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,n.jsx)(i.z,{size:"sm",variant:"danger",disabled:0===s,onClick:d,loading:t,children:(0,n.jsx)(a.Z,{defaultMessage:"Delete <hidden>{space}Selected</hidden>",id:"QE60Po3yK8",values:{space:(0,n.jsx)(n.Fragment,{children:"\xa0"}),hidden:e=>(0,n.jsxs)("span",{className:"max-sm:hidden",children:[" ",e]})}})})]})}},49692:function(e,t,s){s.d(t,{d:function(){return a}});var n=s(27573),i=s(45790);function a(e){let{isError:t,config:s}=e;return t?(0,n.jsx)(i.Z,{defaultMessage:"GitHub",id:"wO9wb5D8Fn"}):(0,n.jsxs)("p",{children:[s.owner,(0,n.jsx)("span",{className:"opacity-25 px-0.5",children:"/"}),s.repo,(0,n.jsx)("span",{className:"border-0.5 bg-bg-200 font-mono text-text-300 border-border-200 px-0.5 rounded ml-1.5 text-xs hidden sm:inline",children:s.branch})]})}},70873:function(e,t,s){s.d(t,{w:function(){return x}});var n=s(27573),i=s(21230),a=s(32737),l=s(13890),r=s(10228),o=s(43290),d=s(40950),c=s(45790),u=s(85465);function x(e){let{syncSource:t}=e,s=(0,d.Z)(),x=(0,u.lP)(),{state:g,last_synced_at:h}=t.status;switch(g){case r.co.CREATED:case r.co.PENDING:case r.co.UPDATING:return(0,n.jsx)("span",{children:(0,n.jsx)(c.Z,{defaultMessage:"Syncing...",id:"S92mvo6R0o"})});case r.co.FAILED:case r.co.UPDATE_FAILED:return(0,n.jsx)("span",{className:"text-danger-000",children:(0,n.jsx)(c.Z,{defaultMessage:"Failed",id:"vXCeIi67rj"})});case r.co.READY:return h?(0,n.jsx)("span",{children:(0,n.jsx)(c.Z,{defaultMessage:"Last synced {relativeTime}",id:"bHMcz2sr6C",values:{relativeTime:(0,n.jsx)(i.i,{datetime:o.ou.fromISO(h),locale:s.locale})}})}):(0,n.jsx)("span",{children:(0,n.jsx)(c.Z,{defaultMessage:"Ready",id:"IZFEUgrg25"})});case r.co.UNAUTHENTICATED:return(0,n.jsx)("span",{className:"text-danger-000",children:(0,n.jsx)(c.Z,{defaultMessage:"You are not authenticated. <button>Authenticate</button>",id:"dRMzxrur9L",values:{button:e=>(0,n.jsx)("button",{className:"underline",onClick:()=>x(t.type),children:e})}})});case r.co.ACCESS_DENIED:return(0,n.jsx)("span",{className:"text-danger-000",children:(0,n.jsx)(c.Z,{defaultMessage:"Access denied, request via {source}",id:"iZUStU5eYI",values:{source:l.X_[t.type]}})});case r.co.DISABLED:return(0,n.jsx)(a.u,{tooltipContent:l.p5,children:(0,n.jsx)("span",{className:"text-danger-000",children:(0,n.jsx)(c.Z,{defaultMessage:"Content not accessible",id:"IPK01iLM7n"})})})}}},21230:function(e,t,s){s.d(t,{i:function(){return o}});var n=s(27573),i=s(43290),a=s(7653),l=s(32737);let r={timeZoneName:"short",...i.ou.DATETIME_MED},o=(0,a.memo)(e=>{let{datetime:t,locale:s}=e;return(0,n.jsx)(l.u,{delayDuration:700,side:"bottom",tooltipContent:t.toLocaleString(r),children:(0,n.jsx)("span",{children:t.toRelative({locale:s})})})});o.displayName="RelativeTime"}}]);